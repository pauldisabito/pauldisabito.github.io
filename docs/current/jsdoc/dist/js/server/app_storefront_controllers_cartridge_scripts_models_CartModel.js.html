<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript">
        WebFontConfig = {
            google: { families: [ 'Open+Sans::latin' ] }
        };
        (function() {
        var wf = document.createElement('script');
        wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
            '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
        wf.type = 'text/javascript';
        wf.async = 'true';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(wf, s);
        })();
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SiteGenesis Server-side Javascript - Source: app_storefront_controllers/cartridge/scripts/models/CartModel.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/demandware-jsdoc.css">
</head>

<body>

<svg display="none" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-menu" viewBox="0 0 1024 1024">
    <title>menu</title>
    <path class="path1" d="M64 192h896v192h-896zM64 448h896v192h-896zM64 704h896v192h-896z"></path>
</symbol>
</defs>
</svg>

<input type="checkbox" id="nav-trigger" class="nav-trigger menu-icon" />
<label for="nav-trigger"><svg class="icon icon-menu"><use xlink:href="#icon-menu"></use></svg></label>

<div id="main">

    <h2 class="page-title">
        <a href="../../index.html">SiteGenesis</a> /
        <a href="index.html">Server-side JS</a> /
        Source: app_storefront_controllers/cartridge/scripts/models/CartModel.js
    </h2>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';
/**
 * Model for cart functionality. Creates a CartModel class with payment, shipping, and product
 * helper methods.
 * @module models/CartModel
 */
var Transaction = require('dw/system/Transaction');

/* API Includes */
var AbstractModel = require('./AbstractModel');
var ArrayList = require('dw/util/ArrayList');
var BasketMgr = require('dw/order/BasketMgr');
var Money = require('dw/value/Money');
var MultiShippingLogger = dw.system.Logger.getLogger('multishipping');
var OrderMgr = require('dw/order/OrderMgr');
var PaymentInstrument = require('dw/order/PaymentInstrument');
var Product = require('~/cartridge/scripts/models/ProductModel');
var ProductInventoryMgr = require('dw/catalog/ProductInventoryMgr');
var ProductListMgr = require('dw/customer/ProductListMgr');
var QuantityLineItem = require('~/cartridge/scripts/models/QuantityLineItemModel');
var Resource = require('dw/web/Resource');
var ShippingMgr = require('dw/order/ShippingMgr');
var StoreMgr = require('dw/catalog/StoreMgr');
var TransientAddress = require('~/cartridge/scripts/models/TransientAddressModel');
var UUIDUtils = require('dw/util/UUIDUtils');

var lineItem;
var app = require('~/cartridge/scripts/app');
var ProductList = app.getModel('ProductList');

/**
 * Cart helper providing enhanced cart functionality
 * @class module:models/CartModel~CartModel
 * @extends module:models/AbstractModel
 *
 * @param {dw.order.Basket} obj The basket object to enhance/wrap.
 */
var CartModel = AbstractModel.extend({
    /** @lends module:models/CartModel~CartModel.prototype */
    /**
     * Triggers the cart calculation by executing the hook 'dw.ocapi.shop.basket.calculate'.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/calculate
     * @return {dw.system.Status} Returns OK if cart when the cart is recalculated.
     */
    calculate: function () {
        dw.system.HookMgr.callHook('dw.ocapi.shop.basket.calculate', 'calculate', this.object);
    },

    addProductToCart: function() {
        var cart = this;
        var params = request.httpParameterMap;
        var format = params.hasOwnProperty('format') &amp;&amp; params.format.stringValue ? params.format.stringValue.toLowerCase() : '';
        var newBonusDiscountLineItem;
        var Product = app.getModel('Product');
        var productOptionModel;
        var productToAdd;
        var template = 'checkout/cart/minicart';

        // Edit details of a gift registry
        if (params.source &amp;&amp; params.source.stringValue === 'giftregistry' &amp;&amp; params.cartAction &amp;&amp; params.cartAction.stringValue === 'update') {
            ProductList.replaceProductListItem();
            return {
                source: 'giftregistry'
            };
        }

        if (params.source &amp;&amp; params.source.stringValue === 'wishlist' &amp;&amp; params.cartAction &amp;&amp; params.cartAction.stringValue === 'update') {
            app.getController('Wishlist').ReplaceProductListItem();
            return;
        }

        // Updates a product line item.
        if (params.uuid.stringValue) {
            var lineItem = cart.getProductLineItemByUUID(params.uuid.stringValue);
            if (lineItem) {
                var productModel = Product.get(params.pid.stringValue);
                var quantity = parseInt(params.Quantity.value);

                productToAdd = productModel.object;
                productOptionModel = productModel.updateOptionSelection(params);

                Transaction.wrap(function () {
                    cart.updateLineItem(lineItem, productToAdd, quantity, productOptionModel);
                });

                if (format === 'ajax') {
                    template = 'checkout/cart/refreshcart';
                }
            } else {
                return {
                    template: 'checkout/cart/cart'
                };
            }
        // Adds a product from a product list.
        } else if (params.plid.stringValue) {
            var productList = ProductListMgr.getProductList(params.plid.stringValue);
            if (productList) {
                cart.addProductListItem(productList.getItem(params.itemid.stringValue), params.Quantity.doubleValue);
            }

        // Adds a product.
        } else {
            var previousBonusDiscountLineItems = cart.getBonusDiscountLineItems();
            productToAdd = Product.get(params.pid.stringValue);

            if (productToAdd.object.isProductSet()) {
                var childPids = params.childPids.stringValue.split(',');
                var childQtys = params.childQtys.stringValue.split(',');
                var counter = 0;

                for (var i = 0; i &lt; childPids.length; i++) {
                    var childProduct = Product.get(childPids[i]);

                    if (childProduct.object &amp;&amp; !childProduct.isProductSet()) {
                        var childProductOptionModel = childProduct.updateOptionSelection(params);
                        cart.addProductItem(childProduct.object, parseInt(childQtys[counter]), childProductOptionModel);
                    }
                    counter++;
                }
            } else {
                productOptionModel = productToAdd.updateOptionSelection(params);
                cart.addProductItem(productToAdd.object, params.Quantity.doubleValue, productOptionModel);
            }

            // When adding a new product to the cart, check to see if it has triggered a new bonus discount line item.
            newBonusDiscountLineItem = cart.getNewBonusDiscountLineItem(previousBonusDiscountLineItems);
        }

        return {
            format: format,
            template: template,
            BonusDiscountLineItem: newBonusDiscountLineItem
        };
    },

    /**
     * Adds a product list item to the cart and recalculates the cart.
     *
     * @alias module:models/CartModel~CartModel/addProductListItem
     * @transactional
     * @param {dw.customer.ProductListItem} productListItem The product list item whose associated product is added to the basket.
     * @param {Number} quantity The quantity of the product.
     */
    addProductListItem: function (productListItem, quantity) {

        if (productListItem) {
            var cart = this;

            Transaction.wrap(function () {
                var shipment = cart.object.defaultShipment;
                cart.createProductLineItem(productListItem, shipment).setQuantityValue(quantity);

                cart.calculate();
            });
        }
    },

    /**
     * Adds a product to the cart and recalculates the cart.
     * By default, when a bundle is added to cart, all its child products are added too, but if those products are
     * variants then the code must replace the master products with the selected variants that are passed in the
     * HTTP params as childPids along with any options.
     * @params {request.httpParameterMap.childPids} - comma separated list of
     * product IDs of the bundled products that are variations.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/addProductItem
     * @param {String} pid - ID of the product that is to be added to the basket.
     * @param {Number} quantity - The quantity of the product.
     * @param {dw.catalog.ProductOptionModel} productOptionModel - The option model of the product that is to be added to the basket.
     */
    addProductItem: function (product, quantity, productOptionModel) {
        var cart = this;
        Transaction.wrap(function () {
            var i;
            if (product) {
                var productInCart;
                var productListItems = cart.object.productLineItems;
                var quantityInCart;
                var quantityToSet;
                var shipment = cart.object.defaultShipment;

                for (var q = 0; q &lt; cart.object.productLineItems.length; q++) {
                    if (productListItems[q].productID === product.ID) {
                        productInCart = productListItems[q];
                        break;
                    }
                }

                if (productInCart) {
                    quantityInCart = productInCart.getQuantity();
                    quantityToSet = quantity ? quantity + quantityInCart : quantityInCart + 1;
                    productInCart.setQuantityValue(quantityToSet);
                } else {
                    var productLineItem = cart.createProductLineItem(product, productOptionModel, shipment);

                    if (quantity) {
                        productLineItem.setQuantityValue(quantity);
                    }
                }

                /**
                 * By default, when a bundle is added to cart, all its child products are added too, but if those products are
                 * variants then the code must replace the master products with the selected variants that get passed in the
                 * HTTP params as childPids along with any options. Params: CurrentHttpParameterMap.childPids - comma separated list of
                 * pids of the bundled products that are variations.
                 */
                if (request.httpParameterMap.childPids.stringValue &amp;&amp; product.bundle) {
                    var childPids = request.httpParameterMap.childPids.stringValue.split(',');

                    for (i = 0; i &lt; childPids.length; i++) {
                        var childProduct = Product.get(childPids[i]).object;

                        if (childProduct) {
                            childProduct.updateOptionSelection(request.httpParameterMap);

                            var foundLineItem = this.getBundledProductLineItemByPID(lineItem, childProduct.isVariant() ? childProduct.masterProduct.ID : childProduct.ID);

                            if (foundLineItem) {
                                foundLineItem.replaceProduct(childProduct);
                            }
                        }
                    }
                }
                cart.calculate();
            }
        });
    },

    /**
     * Validates the supplied coupon code and if the coupon code is valid, applies the coupon code to the basket.
     * While applying the coupon code the function adds a new CouponLineItem to the basket, based on the supplied coupon code.
     * The coupon code gets set at the CouponLineItem.
     *
     * A coupon code can be invalid for the following reasons:
     *  &lt;ul>
     *  &lt;li>The coupon code was already added to the basket.&lt;/li>
     *  &lt;li>A coupon code of the same coupon is already in basket. Adding a single coupon code of this coupon is sufficient to enable a promotion.
     *  Adding another coupon code of the same coupon does not make sense, since the promotion is already enabled by the previously added code.&lt;/li>
     *  &lt;li>The number of redemptions of this coupon code is 1 and the code was already redeemed.&lt;/li>
     *  &lt;li>The number of redemptions of this coupon code is > 1 and the maximum numbers of redemptions of this coupon code was already reached.
     *  The calculation of the redemptions is based on the number of redemptions of this coupon code in past plus
     * the number of redemptions of other coupon codes of the same coupon in the past.&lt;/li>
     *  &lt;li>The maximum number of times this coupon can be redeemed per customer was already reached.&lt;/li>
     *  &lt;li>The maximum number of times this coupon can be redeemed by a customer within a given time period was already reached.
     *  The calculation of the redemptions is based on the the number of redemptions of this coupon code in past plus the number of redemptions
     *  of other coupon codes of the same coupon in the past.&lt;/li>
     *  &lt;li>The coupon code is unknown to the system.&lt;/li>
     *  &lt;li>The coupon is not enabled.&lt;/li>
     *  &lt;li>There exists no active promotion to which the coupon is assigned.&lt;/li>
     *  &lt;/ul>
     * In this case, no CouponLineItem is added to the basket and the returned "Status" object contains the details of
     * why the coupon was invalid.
     *
     * Status: The status object representing a detailed result of the operation. The
     * status property (Status.status) is set to 0 if the coupon was successfully applied or 1 otherwise.
     *
     * The code property (Status.code) is set to one of the following values:
     *  &lt;ul>
     *  &lt;li>"OK" = The coupon was applied to the basket.&lt;/li>
     *  &lt;li>CouponStatusCodes.COUPON_CODE_ALREADY_IN_BASKET = Indicates that coupon code was already added to the basket.&lt;/li>
     *  &lt;li>CouponStatusCodes.COUPON_ALREADY_IN_BASKET = Indicates that another code of the same MultiCode/System coupon was already added to basket.&lt;/li>
     *  &lt;li>CouponStatusCodes.COUPON_CODE_ALREADY_REDEEMED = Indicates that code of MultiCode/System coupon was already redeemed.&lt;/li>
     *  &lt;li>CouponStatusCodes.COUPON_CODE_UNKNOWN = Indicates that coupon not found for given coupon code or that the code itself was not found.&lt;/li>
     *  &lt;li>CouponStatusCodes.COUPON_DISABLED = Indicates that coupon is not enabled.&lt;/li>
     *  &lt;li>CouponStatusCodes.REDEMPTION_LIMIT_EXCEEDED = Indicates that number of redemptions per code exceeded.&lt;/li>
     *  &lt;li>CouponStatusCodes.CUSTOMER_REDEMPTION_LIMIT_EXCEEDED = Indicates that number of redemptions per code and customer exceeded.&lt;/li>
     *  &lt;li>CouponStatusCodes.TIMEFRAME_REDEMPTION_LIMIT_EXCEEDED = Indicates that number of redemptions per code, customer and time exceeded.&lt;/li>
     *  &lt;li>CouponStatusCodes.NO_ACTIVE_PROMOTION = Indicates that coupon is not assigned to an active promotion.&lt;/li>
     * &lt;/ul>
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/addCoupon
     * @param {String} couponCode - The code of the coupon to add.
     * @returns {dw.system.Status} The "Status" object containing details of the add to cart action.
     */
    addCoupon: function (couponCode) {
        if (couponCode) {
            var cart = this;
            var campaignBased = true;
            var addCouponToBasketResult;
            
            try {
                addCouponToBasketResult = Transaction.wrap(function () {
                    return cart.object.createCouponLineItem(couponCode, campaignBased); 
                });
            } catch (e) {
                return {CouponStatus: e.errorCode};
            }
            
            Transaction.wrap(function (){
                cart.calculate();            	
            });
            return {CouponStatus: addCouponToBasketResult.statusCode};
        }
    },

    /**
     * Adds a bonus product to the cart associated with the specified BonusDiscountLineItem. The function creates
     * and returns a ProductLineItem by assigning the specified Product and Quantity to the cart. The function adds
     * the new ProductLineItem to the default shipment.
     * The product parameter must be one of the products associated with the BonusDiscountLineItem or the process
     * fails. The process does not validate if the number of bonus products exceeds the maximum allowed by the bonus
     * discount. This is the job of application logic.
     * The function always creates a new product line item, regardless of the value of the site preference
     * 'Add Product Behavior'.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/addBonusProduct
     * @param {dw.order.BonusDiscountLineItem} bonusDiscountLineItem - Line item representing an applied BonusChoiceDiscount in the basket. The
     * product must be in the bonus product list of this discount.
     * @param {dw.catalog.Product} product - The product that is to be added to the basket.
     * @param {dw.util.ArrayList} selectedOptions - Product option array of optionName/optionValue pairs.
     *
     *
     * @returns {dw.order.ProductLineItem} The newly created product line item.
     */
    addBonusProduct: function (bonusDiscountLineItem, product, selectedOptions, quantity) {
        // TODO: Should this actually be using the dw.catalog.ProductOptionModel.UpdateProductOptionSelections method instead?
        var UpdateProductOptionSelections = require('app_storefront_core/cartridge/scripts/cart/UpdateProductOptionSelections');
        var ScriptResult = UpdateProductOptionSelections.update({
            SelectedOptions: selectedOptions,
            Product: product
        });
        var shipment = null;
        var productLineItem = this.object.createBonusProductLineItem(bonusDiscountLineItem, product, ScriptResult, shipment);

        if (quantity) {
            productLineItem.setQuantityValue(quantity);
        }

        return productLineItem;
    },

    /**
     * Deletes all the products associated with a bonus discount line item.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/removeBonusDiscountLineItemProducts
     * @param {dw.order.BonusDiscountLineItem} bonusDiscountLineItem - The bonus discount line item to remove the
     * product line items for.
     */
    removeBonusDiscountLineItemProducts: function (bonusDiscountLineItem) {
        // TODO - add check whether the given line item actually belongs to this cart object.
        var plis = bonusDiscountLineItem.getBonusProductLineItems();

        for (var i = 0; i &lt; plis.length; i++) {
            var pli = plis[i];
            if (pli.product) {
                this.removeProductLineItem(pli);
            }
        }
    },

    /**
     * Returns the product line item of the cart with a specific UUID.
     *
     * @alias module:models/CartModel~CartModel/getProductLineItemByUUID
     * @param {String} lineItemUUID - The UUID of the line item.
     * @returns {dw.order.ProductLineItem} The product line item or null if not found.
     */
    getProductLineItemByUUID: function (lineItemUUID) {
        var plis = this.getProductLineItems();
        var lineItem = null;

        for (var i = 0, il = plis.length; i &lt; il; i++) {
            var item = plis[i];
            if ((lineItemUUID &amp;&amp; item.UUID === lineItemUUID)) {
                lineItem = item;
                break;
            }
        }

        return lineItem;
    },

    /**
     * Searches a bundle line item for a product line item with a specific product ID.
     * @alias module:models/CartModel~CartModel/getBundledProductLineItemByPID
     * @param {dw.order.ProductLineItem} bundleLineItem - The bundle product line item, which contains two or more product line items.
     * @param {String} pid - The product identifier of the product line item to find.
     * @returns {dw.order.ProductLineItem} The product line item or null if not found.
     */
    getBundledProductLineItemByPID: function (bundleLineItem, pid) {
        // TODO - add check whether the given line item actually belongs to this cart object
        var plis = bundleLineItem.getBundledProductLineItems();
        var lineItem = null;

        for (var i = 0, il = plis.length; i &lt; il; i++) {
            var item = plis[i];
            if ((pid &amp;&amp; item.productID === pid)) {
                lineItem = item;
                break;
            }
        }

        return lineItem;
    },

    /**
     * Returns the bonus discount line item of the cart having the given UUID.
     *
     * @alias module:models/CartModel~CartModel/getBonusDiscountLineItemByUUID
     * @param {String} lineItemUUID - The UUID of the bonus discount line item.
     * @returns {dw.order.BonusDiscountLineItem} The bonus discount line item or null if not found.
     */
    getBonusDiscountLineItemByUUID: function (lineItemUUID) {
        var plis = this.getBonusDiscountLineItems();
        var lineItem = null;

        for (var i = 0, il = plis.length; i &lt; il; i++) {
            var item = plis[i];
            if ((lineItemUUID &amp;&amp; item.UUID === lineItemUUID)) {
                lineItem = item;
                break;
            }
        }

        return lineItem;
    },

    /**
     * Checks the in-store quantity of all product line items
     * against the store inventory in case the product line item's quantity was
     * updated. If the store inventory does not have as many of the item in stock as is being purchased,
     * the product line item is converted from in-store pickup to home delivery.
     * @transactional
     * @alias module:models/CartModel~CartModel/checkInStoreProducts
     */
    checkInStoreProducts: function () {
        if (dw.system.Site.getCurrent().getCustomPreferenceValue('enableStorePickUp')) {

            var allProductLineItems = this.getAllProductLineItems();
            for (var i = 0; i &lt; allProductLineItems.length; i++) {
                var pli = allProductLineItems[i];

                //Skip product line items that are not in-store.
                if (pli.custom.fromStoreId) {
                    //Check the quantity against the inventory of the store with matching storeID,
                    //if the cart is being updated with a new quantity.
                    var store = StoreMgr.getStore(pli.custom.fromStoreId);
                    var storeinventory = ProductInventoryMgr.getInventoryList(store.custom.inventoryListId);

                    if (storeinventory.getRecord(pli.productID).ATS.value >= pli.quantityValue) {
                        pli.custom.fromStoreId = store.ID;
                        pli.setProductInventoryList(storeinventory);

                    } else {
                        //The in-store line item is reset to a regular home delivery item.
                        pli.custom.fromStoreId = '';
                        pli.setProductInventoryList(null);
                        pli.setShipment(this.getDefaultShipment());
                    }
                }
            }
        }
    },

    /**
     * Checks to see if a new bonus discount line item was created by providing a list of 'previous' discount
     * line items.
     *
     * @alias module:models/CartModel~CartModel/getNewBonusDiscountLineItems
     * @param {dw.util.Collection} previousBonusDiscountLineItems - Baseline collection of bonus discount line items.
     * @returns {dw.order.BonusDiscountLineItem} The newly created bonus discount line item.
     */
    getNewBonusDiscountLineItem: function (previousBonusDiscountLineItems) {
        var newBonusDiscountLineItems = this.getBonusDiscountLineItems();
        var newBonusDiscountLineItem;

        var iter = newBonusDiscountLineItems.iterator();
        while (iter.hasNext()) {
            var newItem = iter.next();
            // if there is a new discount line item, return it right away
            if (!previousBonusDiscountLineItems.contains(newItem)) {
                newBonusDiscountLineItem = newItem;
                break;
            }
        }
        return newBonusDiscountLineItem;
    },

    /**
     * Replaces the current product of the specified product line item with the specified product.
     *
     * By default, when a bundle is added to a cart, all its child products are added as well.
     * However, if those products are variants then the master products must be replaced
     * with the selected variants that get passed in the CurrentHttpParameterMap.childPids as comma separated list of
     * pids of the bundled products that are variations and any options.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/updateLineItem
     * @param {dw.order.ProductLineItem} lineItem - The product line item to replace.
     * @param {dw.catalog.Product} product - The new product.
     * @param {Number} quantity - The quantity of the product line item after replacement.
     * @param {dw.catalog.ProductOptionModel} productOptionModel - The option model of the product to add to the basket.
     */
    updateLineItem: function (lineItem, product, quantity, productOptionModel) {
        var optionValues = productOptionModel.getOptions();

        lineItem.replaceProduct(product);
        lineItem.setQuantityValue(quantity);

        if (optionValues.length) {
            lineItem.updateOptionValue(optionValues[0]);
        }

        if (product.isBundle()) {

            if (request.httpParameterMap.childPids.stringValue) {
                var childPids = request.httpParameterMap.childPids.stringValue.split(',');

                for (var i = 0; i &lt; childPids.length; i++) {
                    var childProduct = Product.get(childPids[i]).object;

                    if (childProduct) {
                        // why is this needed ?
                        childProduct.updateOptionSelection(request.httpParameterMap);

                        var foundLineItem = null;
                        foundLineItem = this.getBundledProductLineItemByPID(lineItem, (childProduct.isVariant() ? childProduct.masterProduct.ID : childProduct.ID));

                        if (foundLineItem) {
                            foundLineItem.replaceProduct(childProduct);
                        }
                    }
                }
            }
        }
    },

    /**
     * Implements a typical shopping cart checkout validation. Some parts of the validation script are specific to
     * the reference application logic and might not be applicable to our customer's storefront applications.
     * However, the shopping cart validation script can be customized to meet specific needs and requirements.
     *
     * This function implements the validation of the shopping cart against specific
     * conditions in the following steps:
     * - validate that total price is not N/A
     * - validate that all products in the basket are still in site catalog and online
     * - validate that all coupon codes in the basket are valid
     * - validate that the taxes can be calculated for all products in the basket (if ValidateTax input parameter is true)
     *
     * @alias module:models/CartModel~CartModel/validateForCheckout
     * @returns {dw.system.Status} BasketStatus
     * @returns {Boolean} EnableCheckout
     */
    validateForCheckout: function () {
        var ValidateCartForCheckout = require('app_storefront_core/cartridge/scripts/cart/ValidateCartForCheckout');
        return ValidateCartForCheckout.validate({
            Basket: this.object,
            ValidateTax: false
        });
    },

    /**
     * The function removes all empty shipments of the current cart.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/removeEmptyShipments
     */
    removeEmptyShipments: function () {
        var that = this;
        // Gets the list of shipments.
        var shipments = that.getShipments();

        dw.system.Transaction.wrap(function () {
            for (var i = 0; i &lt; shipments.length; i++) {
                var shipment = shipments[i];

                if (!shipment.isDefault()) {
                    if (shipment.getProductLineItems().isEmpty() &amp;&amp; shipment.getGiftCertificateLineItems().isEmpty()) {
                        that.removeShipment(shipment);
                    }
                }
            }
        });
    },

    /**
     * Determines the physical shipments of the current cart. Physical shipments are shipments that contain at
     * least one product line item. A shipment that contains only gift certificates is not a physical shipment.
     * Product line items marked for in-store pickup are also not considered physical shipments.
     *
     * @alias module:models/CartModel~CartModel/getPhysicalShipments
     * @returns {dw.util.ArrayList} List of physical shipments.
     */
    getPhysicalShipments: function () {

        // list of physical shipments
        var physicalShipments = new ArrayList();

        // find physical shipments
        var shipments = this.getShipments();

        for (var i = 0; i &lt; shipments.length; i++) {
            var shipment = shipments[i];
            if (!shipment.getProductLineItems().isEmpty() &amp;&amp; shipment.custom.shipmentType !== 'instore') {
                physicalShipments.add(shipment);
            }
        }

        return physicalShipments;
    },

    /**
     * Cleans the shipments of the current basket by putting all gift certificate line items to single, possibly
     * new, shipments, with one shipment per gift certificate line item.
     *
     * @alias module:models/CartModel~CartModel/updateGiftCertificateShipments
     * @transactional
     */
    updateGiftCertificateShipments: function () {

        // List of line items.
        var giftCertificatesLI = new ArrayList();

        // Finds gift certificates in shipments that have
        // product line items and gift certificate line items merged.
        var shipments = this.getShipments();

        for (var i = 0; i &lt; shipments.length; i++) {
            var shipment = shipments[i];

            // Skips shipment if no gift certificates are contained.
            if (shipment.giftCertificateLineItems.size() === 0) {
                continue;
            }

            // Skips shipment if it has no products and just one gift certificate is contained.
            if (shipment.productLineItems.size() === 0 &amp;&amp; shipment.giftCertificateLineItems.size() === 1) {
                continue;
            }

            // If there are gift certificates, add them to the list.
            if (shipment.giftCertificateLineItems.size() > 0) {
                giftCertificatesLI.addAll(shipment.giftCertificateLineItems);
            }
        }

        // Create a shipment for each gift certificate line item.
        for (var n = 0; n &lt; giftCertificatesLI.length; n++) {
            var newShipmentID = this.determineUniqueShipmentID('Shipment #');
            giftCertificatesLI[n].setShipment(this.createShipment(newShipmentID));
        }
    },

    /**
     * Determines a unique shipment ID for shipments in the current cart and the given base ID. The function appends
     * a counter to the base ID and checks the existence of the resulting ID. If the resulting ID is unique, this ID
     * is returned; if not, the counter is incremented and checked again.
     *
     * @alias module:models/CartModel~CartModel/determineUniqueShipmentID
     * @param {String} baseID - The base ID.
     * @returns {String} Calculated shipment ID.
     */
    determineUniqueShipmentID: function (baseID) {
        var counter = 1;
        var shipment = null;
        var candidateID = baseID + '' + counter;

        while (shipment === null) {
            shipment = this.getShipment(candidateID);
            if (shipment) {
                // This ID is already taken, increment the counter
                // and try the next one.
                counter++;
                candidateID = baseID + '' + counter;
                shipment = null;
            } else {
                return candidateID;
            }
        }

        // Should never go here
        return null;
    },

    /**
     * Creates a shipping address for the shipment with the given shipment ID.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/createShipmentShippingAddress
     * @param {String} shipmentID - The ID of the shipment to create the shipping address for.
     * @returns {dw.order.OrderAddress} The created shipping address.
     */
    createShipmentShippingAddress: function (shipmentID) {

        var shipment = this.getShipment(shipmentID);
        var shippingAddress = shipment.getShippingAddress();

        // If the shipment has no shipping address yet, create one.
        if (shippingAddress === null) {
            shippingAddress = shipment.createShippingAddress();
        }

        return shippingAddress;

    },

    /**
     * Scans the basket and consolidates items that are going to the same store. It also creates shipments
     * with shipment type and method for the rest of checkout.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/consolidateInStoreShipments
     * @returns {boolean} true if there is a home delivery found in the basket, false otherwise.
     */
    consolidateInStoreShipments: function () {
        var sliArrayList = new ArrayList();
        var homeDeliveries = false;
        var storeObject, shippingAddress, orderAddress;

        var plis = this.getAllProductLineItems();
        for (var i = 0; i &lt; plis.length; i++) {
            var pli = plis[i];

            if (pli.custom.fromStoreId === null) {
                //Skips line items that are not in-store product line items.
                homeDeliveries = true;
                continue;
            }
            if (pli.shipment.shippingMethod &amp;&amp; pli.shipment.shippingMethod.custom.storePickupEnabled) {
                //Checks to see if the store id changed.
                if (pli.custom.fromStoreId === pli.shipment.custom.fromStoreId) {
                    if (pli.shipment.shippingAddress) {
                        continue;
                    } else {
                        //Creates the shipment address to reflect the new store address.
                        shippingAddress = new TransientAddress();
                        storeObject = StoreMgr.getStore(pli.custom.fromStoreId);
                        orderAddress = pli.shipment.createShippingAddress();
                        shippingAddress.storeAddressTo(orderAddress, storeObject);
                        continue;
                    }
                } else {
                    storeObject = StoreMgr.getStore(pli.custom.fromStoreId);
                    //Changes the shipment address to reflect the new store address.
                    pli.shipment.shippingAddress.setFirstName('');
                    pli.shipment.shippingAddress.setLastName(storeObject.name);
                    pli.shipment.shippingAddress.setAddress1(storeObject.address1);
                    pli.shipment.shippingAddress.setAddress2(storeObject.address2);
                    pli.shipment.shippingAddress.setCity(storeObject.city);
                    pli.shipment.shippingAddress.setPostalCode(storeObject.postalCode);
                    pli.shipment.shippingAddress.setStateCode(storeObject.stateCode);
                    pli.shipment.shippingAddress.setCountryCode(storeObject.custom.countryCodeValue);
                    pli.shipment.shippingAddress.setPhone(storeObject.phone);
                    pli.shipment.custom.fromStoreId = pli.custom.fromStoreId;
                    continue;
                }
            }

            //Checks whether the function is creating a new shipment or adding to an existing one.
            if (sliArrayList.contains(pli.custom.fromStoreId)) {
                //Adds the product line item to the existing shipment.
                //Loops through to find the shipment with the storeid and set it as the shipment for the pli.
                var shipments = this.getShipments();
                for (var j = 0; j &lt; this.getShipments().length; j++) {
                    var inStoreShipment = shipments[j];

                    if (inStoreShipment.custom.fromStoreId &amp;&amp; (pli.custom.fromStoreId === inStoreShipment.custom.fromStoreId)) {
                        //If an existing shipment that has the correct address is found.
                        pli.setShipment(inStoreShipment);
                    }

                }

            } else {
                //create a new shipment to put this product line item in
                var shipment = null;
                shipment = this.createShipment(UUIDUtils.createUUID());
                shipment.custom.fromStoreId = pli.custom.fromStoreId;
                shipment.custom.shipmentType = 'instore';

                //Loops over the shipping methods and picks the in-store method.
                var shippingMethods = new ArrayList(ShippingMgr.getShipmentShippingModel(shipment).getApplicableShippingMethods());
                for (var k = 0; k &lt; shippingMethods.length; k++) {
                    var shippingMethod = shippingMethods[k];

                    if (shippingMethod.custom.storePickupEnabled) {
                        shipment.setShippingMethod(shippingMethod);
                    }

                }

                shippingAddress = new TransientAddress();
                storeObject = StoreMgr.getStore(pli.custom.fromStoreId);
                orderAddress = shipment.createShippingAddress();
                shippingAddress.storeAddressTo(orderAddress, storeObject);
                pli.setShipment(shipment);

            }

            sliArrayList.add(pli.custom.fromStoreId);
        }

        return homeDeliveries;
    },

    /**
     * Updates the shipping method of the given shipment. If a shipping method ID is given, the given
     * shipping method is used to update the shipment.
     *
     * @alias module:models/CartModel~CartModel/preCalculateShipping
     * @param {dw.order.ShippingMethod} shippingMethod - A shipping method.
     * @returns {Object} Returns the following object:
     * &lt;code>&lt;pre>
     * "shippingExclDiscounts"         : this.getShippingTotalPrice(),
     * "shippingInclDiscounts"         : this.getAdjustedShippingTotalPrice(),
     * "productShippingCosts"          : productShippingCosts,
     * "productShippingDiscounts"      : productShippingDiscounts,
     * "shippingPriceAdjustments"      : priceAdjArray,
     * "shippingPriceAdjustmentsTotal" : priceAdjTotal,
     * "surchargeAdjusted"             : adustedSurchargeTotal,
     * "baseShipping"                  : baseShipping,
     * "baseShippingAdjusted"          : baseShippingAdjusted
     * &lt;/pre>&lt;/code>
     */
    preCalculateShipping: function (shippingMethod) {

        var shipment = this.getDefaultShipment();

        if (shipment) {
            var currencyCode = this.getCurrencyCode();
            var productShippingCosts     = [], // array to hold product level shipping costs (fixed or surcharges), each entry is an object containing product name and shipping cost
                productShippingDiscounts = new ArrayList(), // list holds all products shipping discounts NOT promotions e.g. fixed shipping discount or free shipping for individual products discount
                productIter              = this.getAllProductLineItems().iterator(),
                priceAdj,
                priceAdjArray            = [], // array to hold shipping price adjustments data (we have to create objects since price adjustments get lost after applying a shipping method
                priceAdjIter             = shipment.getShippingPriceAdjustments().iterator(),
                priceAdjTotal            = new Money(0.0, currencyCode), // total of all price adjustments
                surchargeTotal           = new Money(0.0, currencyCode), // total of all surcharges
                adustedSurchargeTotal    = new Money(0.0, currencyCode); // total of all surcharges minus price adjustments

            // Iterates over all products in the basket
            // and calculates their shipping cost and shipping discounts
            while (productIter.hasNext()) {
                var pli = productIter.next();
                var product = pli.product;
                if (product) {
                    var psc = ShippingMgr.getProductShippingModel(product).getShippingCost(shippingMethod);
                    productShippingCosts[productShippingCosts.length] = {
                        name: product.name,
                        shippingCost: psc,
                        qty: pli.getQuantity()
                    };
                    if (psc &amp;&amp; psc.getAmount() &amp;&amp; psc.isSurcharge()) {
                        // update the surcharge totals
                        surchargeTotal = surchargeTotal.add(psc.getAmount());
                        adustedSurchargeTotal = adustedSurchargeTotal.add(psc.getAmount());
                    }
                    //productShippingDiscounts.addAll(discountPlan.getProductShippingDiscounts(pli));
                    //productShippingDiscounts.addAll(pli.shippingLineItem.priceAdjustments);
                    if (pli.shippingLineItem) {
                        var pdiscountsiter = pli.shippingLineItem.priceAdjustments.iterator();
                        while (pdiscountsiter.hasNext()) {
                            priceAdj = pdiscountsiter.next();
                            if (priceAdj &amp;&amp; priceAdj.promotion !== null) {
                                if (pli.shippingLineItem.isSurcharge()) {
                                    // adjust the surchage total value
                                    adustedSurchargeTotal = adustedSurchargeTotal.add(priceAdj.price);
                                }
                                productShippingDiscounts.add({
                                    price: priceAdj.price,
                                    calloutMsg: priceAdj.promotion.calloutMsg
                                });
                            }
                        }
                    }
                }
            }

            // Iterates over all shipping price adjustments and
            // grabs price and calloutMsg objects.
            while (priceAdjIter.hasNext()) {
                priceAdj = priceAdjIter.next();
                if (priceAdj &amp;&amp; priceAdj.promotion !== null) {
                    priceAdjTotal = priceAdjTotal.add(priceAdj.price);
                    priceAdjArray[priceAdjArray.length] = {
                        price: priceAdj.price,
                        calloutMsg: priceAdj.promotion.calloutMsg
                    };
                }
            }

            var baseShipping = this.getShippingTotalPrice().subtract(surchargeTotal);
            var baseShippingAdjusted = null;
            if (priceAdjTotal >= 0) {
                baseShippingAdjusted = baseShipping.subtract(priceAdjTotal);
            } else {
                baseShippingAdjusted = baseShipping.add(priceAdjTotal);
            }

            return {
                shippingExclDiscounts: this.getShippingTotalPrice(),
                shippingInclDiscounts: this.getAdjustedShippingTotalPrice(),
                productShippingCosts: productShippingCosts,
                productShippingDiscounts: productShippingDiscounts,
                shippingPriceAdjustments: priceAdjArray,
                shippingPriceAdjustmentsTotal: priceAdjTotal,
                surchargeAdjusted: adustedSurchargeTotal,
                baseShipping: baseShipping,
                baseShippingAdjusted: baseShippingAdjusted
            };
        }
    },

    /**
     * Sets the shipping method of the given shipment to the passed method.  The list of allowed shipping
     * methods may be passed in as a parameter.  If not, then it is retrieved using ShipmentShippingModel.getApplicableShippingMetods().
     * If the passed shipping method is not in this list, then the function uses the default shipping method.
     * If the default shipping method is not in the list, the function uses the first method in the list.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/updateShipmentShippingMethod
     * @param {String} shipmentID - The ID of the shipment to update the shipping method for.
     * @param {String} shippingMethodID - The ID of the shipping method to set for the shipment.
     * @param {dw.order.ShippingMethod} shippingMethod - The shipping method to set for the shipment.
     * @param {dw.util.Collection} shippingMethods - The list of applicable shipping methods.
     */
    updateShipmentShippingMethod: function (shipmentID, shippingMethodID, shippingMethod, shippingMethods) {

        var shipment = this.getShipment(shipmentID);

        if (!shippingMethods) {
            shippingMethods = ShippingMgr.getShipmentShippingModel(shipment).getApplicableShippingMethods();
        }

        // Tries to set the shipment shipping method to the passed one.
        for (var i = 0; i &lt; shippingMethods.length; i++) {
            var method = shippingMethods[i];

            if (!shippingMethod) {
                if (!method.ID.equals(shippingMethodID)) {
                    continue;
                }
            } else {
                if (method !== shippingMethod) {
                    continue;
                }

            }

            // Sets this shipping method.
            shipment.setShippingMethod(method);
            return;
        }

        var defaultShippingMethod = ShippingMgr.getDefaultShippingMethod();
        if (shippingMethods.contains(defaultShippingMethod)) {
            // Sets the default shipping method if it is applicable.
            shipment.setShippingMethod(defaultShippingMethod);
        } else if (shippingMethods.length > 0) {
            // Sets the first shipping method in the applicable list.
            shipment.setShippingMethod(shippingMethods.iterator().next());
        } else {
            // Invalidates the current shipping method selection.
            shipment.setShippingMethod(null);
        }

        return;
    },

    /**
     * Retrieves the list of applicable shipping methods for a given shipment and a full or partial shipping address.
     * A shipping method is applicable if it does not exclude any of the products in the shipment, and does not
     * exclude the specified address.
     *
     * @alias module:models/CartModel~CartModel/getApplicableShippingMethods
     * @param {module:models/TransientAddressModel~TransientAddressModel} address - The address to get the applicable shipping
     * methods for.
     * @returns {dw.util.Collection} The list of applicable shipping methods for the default shipment and the given address.
     */
    getApplicableShippingMethods: function (address) {
        // Modify as needed.
        if (!address.countryCode) {
            address.countryCode = 'US';
        }
        if (!address.stateCode) {
            address.stateCode = 'NY';
        }

        // Retrieves the list of applicable shipping methods for the given shipment and address.
        return ShippingMgr.getShipmentShippingModel(this.getDefaultShipment()).getApplicableShippingMethods(address);
    },

    /**
     * Calculates the amount to be paid by a non-gift certificate payment instrument based on the given basket.
     * The function subtracts the amount of all redeemed gift certificates from the order total and returns this
     * value.
     *
     * @alias module:models/CartModel~CartModel/getNonGiftCertificateAmount
     * @returns {dw.value.Money} The amount to be paid by a non-gift certificate payment instrument.
     */
    getNonGiftCertificateAmount: function () {
        // The total redemption amount of all gift certificate payment instruments in the basket.
        var giftCertTotal = new Money(0.0, this.getCurrencyCode());

        // Gets the list of all gift certificate payment instruments
        var gcPaymentInstrs = this.getGiftCertificatePaymentInstruments();
        var iter = gcPaymentInstrs.iterator();
        var orderPI = null;

        // Sums the total redemption amount.
        while (iter.hasNext()) {
            orderPI = iter.next();
            giftCertTotal = giftCertTotal.add(orderPI.getPaymentTransaction().getAmount());
        }

        // Gets the order total.
        var orderTotal = this.getTotalGrossPrice();

        // Calculates the amount to charge for the payment instrument.
        // This is the remaining open order total that must be paid.
        var amountOpen = orderTotal.subtract(giftCertTotal);

        // Returns the open amount to be paid.
        return amountOpen;
    },

    /**
     * Removes a gift certificate payment instrument with the given gift certificate ID
     * from the basket.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/removeGiftCertificatePaymentInstrument
     * @param {String} giftCertificateID - The ID of the gift certificate to remove the payment instrument for.
     */
    removeGiftCertificatePaymentInstrument: function (giftCertificateID) {

        // Iterates over the list of payment instruments.
        var gcPaymentInstrs = this.getGiftCertificatePaymentInstruments(giftCertificateID);
        var iter = gcPaymentInstrs.iterator();
        var existingPI = null;

        // Remove (one or more) gift certificate payment
        // instruments for this gift certificate ID.
        while (iter.hasNext()) {
            existingPI = iter.next();
            this.removePaymentInstrument(existingPI);
        }

        return;
    },

    /**
     * Deletes multiple payment instruments.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/removePaymentInstruments
     * @param {dw.util.Collection} paymentInstruments - The payment instruments to remove.
     */
    removePaymentInstruments: function (paymentInstruments) {

        for (var i = 0; i &lt; paymentInstruments.length; i++) {
            var pi = paymentInstruments[i];
            this.removePaymentInstrument(pi);
        }

    },

    /**
     * Calculates the total amount of an order paid for by gift certificate payment
     * instruments. Any remaining open amount is applied to the non-gift certificate payment
     * instrument, such as a credit card. &lt;b>Note:&lt;/b> this script assumes that only one non-gift certificate
     * payment instrument is used for the payment.
     *
     * @alias module:models/CartModel~CartModel/calculatePaymentTransactionTotal
     * @returns {boolean} false in the case of an error or if the amount of the transaction is not covered, true otherwise.
     */
    calculatePaymentTransactionTotal: function () {

        // Gets all payment instruments for the basket.
        var iter = this.getPaymentInstruments().iterator();
        var paymentInstrument = null;
        var nonGCPaymentInstrument = null;
        var giftCertTotal = new Money(0.0, this.getCurrencyCode());

        // Locates a non-gift certificate payment instrument if one exists.
        while (iter.hasNext()) {
            paymentInstrument = iter.next();
            if (PaymentInstrument.METHOD_GIFT_CERTIFICATE.equals(paymentInstrument.getPaymentMethod())) {
                giftCertTotal = giftCertTotal.add(paymentInstrument.getPaymentTransaction().getAmount());
                continue;
            }

            // Captures the non-gift certificate payment instrument.
            nonGCPaymentInstrument = paymentInstrument;
            break;
        }

        // Gets the order total.
        var orderTotal = this.getTotalGrossPrice();

        // If a gift certificate payment and non-gift certificate payment
        // instrument are found, the function returns true.
        if (!nonGCPaymentInstrument) {
            // If there are no other payment types and the gift certificate
            // does not cover the open amount, then return false.
            if (giftCertTotal &lt; orderTotal) {
                return false;
            } else {
                return true;
            }
        }

        // Calculates the amount to be charged for the
        // non-gift certificate payment instrument.
        var amount = this.getNonGiftCertificateAmount();

        // now set the non-gift certificate payment instrument total.
        if (amount.value &lt;= 0.0) {
            var zero = new Money(0, amount.getCurrencyCode());
            nonGCPaymentInstrument.getPaymentTransaction().setAmount(zero);
        } else {
            nonGCPaymentInstrument.getPaymentTransaction().setAmount(amount);
        }

        return true;
    },

    /**
     * Creates a list of gift certificate ids from gift certificate payment instruments.
     *
     * @alias module:models/CartModel~CartModel/getGiftCertIdList
     * @returns {dw.util.ArrayList} The list of gift certificate IDs.
     */
    getGiftCertIdList: function () {
        var gcIdList = new ArrayList();
        var gcPIIter = this.getGiftCertificatePaymentInstruments.iterator();

        while (gcPIIter.hasNext()) {
            gcIdList.add((gcPIIter.next()).getGiftCertificateCode());
        }

        return gcIdList;
    },

    /**
     * Verifies whether existing non-gift-certificate payment instrument methods or cards are still applicable.
     * Returns the collection of valid and invalid payment instruments.
     *
     * @alias module:models/CartModel~CartModel/validatePaymentInstruments
     * @param {dw.customer.Customer} customer - The current customer.
     * @param {String} countryCode - The country code.
     * @param {Number} amount - The payment amount.
     *
     * @returns {dw.util.Collection} ValidPaymentInstruments - The collection of valid payment instruments.
     * @returns {dw.util.Collection} InvalidPaymentInstruments - The collection of invalid payment instruments.
     */
    validatePaymentInstruments: function (customer, countryCode, amount) {
        var paymentHelpers = require('~/cartridge/scripts/payment/common');
        return paymentHelpers.validatePaymentInstruments(this, countryCode, amount);
    },

    /**
     * Creates a gift certificate payment instrument from the given gift certificate ID for the basket. The
     * method attempts to redeem the current balance of the gift certificate. If the current balance exceeds the
     * order total, this amount is redeemed and the balance is lowered.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/createGiftCertificatePaymentInstrument
     * @param {dw.order.GiftCertificate} giftCertificate - The gift certificate.
     * @returns {dw.order.PaymentInstrument} The created PaymentInstrument.
     */
    createGiftCertificatePaymentInstrument: function (giftCertificate) {

        // Removes any duplicates.
        // Iterates over the list of payment instruments to check.
        var gcPaymentInstrs = this.getGiftCertificatePaymentInstruments(giftCertificate.getGiftCertificateCode()).iterator();
        var existingPI = null;

        // Removes found gift certificates, to prevent duplicates.
        while (gcPaymentInstrs.hasNext()) {
            existingPI = gcPaymentInstrs.next();
            this.removePaymentInstrument(existingPI);
        }

        // Fetches the balance and the order total.
        var balance = giftCertificate.getBalance();
        var orderTotal = this.getTotalGrossPrice();

        // Sets the amount to redeem equal to the remaining balance.
        var amountToRedeem = balance;

        // Since there may be multiple gift certificates, adjusts the amount applied to the current
        // gift certificate based on the order total minus the aggregate amount of the current gift certificates.

        var giftCertTotal = new Money(0.0, this.getCurrencyCode());

        // Iterates over the list of gift certificate payment instruments
        // and updates the total redemption amount.
        gcPaymentInstrs = this.getGiftCertificatePaymentInstruments().iterator();
        var orderPI = null;

        while (gcPaymentInstrs.hasNext()) {
            orderPI = gcPaymentInstrs.next();
            giftCertTotal = giftCertTotal.add(orderPI.getPaymentTransaction().getAmount());
        }

        // Calculates the remaining order balance.
        // This is the remaining open order total that must be paid.
        var orderBalance = orderTotal.subtract(giftCertTotal);

        // The redemption amount exceeds the order balance.
        // use the order balance as maximum redemption amount.
        if (orderBalance &lt; amountToRedeem) {
            // Sets the amount to redeem equal to the order balance.
            amountToRedeem = orderBalance;
        }

        // Creates a payment instrument from this gift certificate.
        return this.object.createGiftCertificatePaymentInstrument(giftCertificate.getGiftCertificateCode(), amountToRedeem);
    },

    /**
     * Creates a new QuantityLineItem helper object for each quantity of a ProductLineItem, if one does not already exist.
     * It does not create QuantityLineItems for products using in-store pickup as the shipping method.
     *
     * @alias module:models/CartModel~CartModel/separateQuantities
     * @param {dw.order.ProductLineItem} pli - The ProductLineItem.
     * @param {dw.util.ArrayList} quantityLineItems - The existing QuantityLineItems.
     * @returns {dw.util.ArrayList} A list of separated QuantityLineItems.
     */
    separateQuantities: function (pli, quantityLineItems) {

        var quantity = pli.quantityValue;

        // Creates new ArrayList if there are no QLIs
        if (!quantityLineItems) {
            quantityLineItems = new ArrayList();
        }

        // Creates for each quantity of the ProductLineItem a new QuantityLineItem.
        for (var i = 0; i &lt; quantity; i++) {
            //Skips plis that are using the in-store pick up shipping method.
            if (empty(pli.custom.fromStoreId)) {
                quantityLineItems.add(new QuantityLineItem(pli));
            }
        }

        return quantityLineItems;
    },

    /**
     * Loads customer addresses and shipment addresses and stores them into the session address book attribute of the cart,
     * if they are available and configured in Business Manager.
     * @alias module:models/CartModel~CartModel/initAddressBook
     * @transactional
     *
     * @param {dw.customer.Customer} customer - The customer to load the addresses from.
     */
    initAddressBook: function (customer) {

        var shipments = this.getShipments();

        // Loads addresses from the customer address book.
        if (customer.registered &amp;&amp; customer.addressBook) {
            for (var i = 0; i &lt; customer.addressBook.addresses.length; i++) {
                this.addAddressToAddressBook(customer.addressBook.addresses[i]);
            }
        }

        // Loads addresses from Shipments excluding in-store shipments.
        if (shipments) {
            for (var k = 0; k &lt; shipments.length; k++) {
                var shipment = shipments[k];
                if (shipment.shippingAddress &amp;&amp; shipment.custom.shipmentType !== 'instore') {
                    this.addAddressToAddressBook(shipment.getShippingAddress());
                }
            }
        }
    },

    /**
     * Returns all addresses of the cart's address book. The addresses are stored as a JSON objects in a custom
     * attribute named 'sessionAddressBook'.
     *
     * @alias module:models/CartModel~CartModel/getAddressBookAddresses
     * @returns {dw.util.ArrayList} An ArrayList containing a addresses of the addresses stored in the carts address
     * book.
     */
    getAddressBookAddresses: function () {
        var addressBook = {};
        var addresses = new ArrayList();

        if (!empty(this.object.describe().getCustomAttributeDefinition('sessionAddressBook'))) {

            // Checks session addresses availability.
            if (this.object.custom.sessionAddressBook) {
                try {
                    addressBook = JSON.parse(this.object.custom.sessionAddressBook);
                    addresses.add(addressBook.addresses);
                } catch (error) {
                    MultiShippingLogger.error(Resource.msgf('multishipping.error.parsejson', 'checkout', null, error));
                    return null;
                }
            }

            return addresses;
        }

        return null;
    },

    /**
     * Adds the given address to the address book of the cart.
     *
     * @alias module:models/CartModel~CartModel/addAddressToAddressBook
     * @transactional
     * @param {module:models/TransientAddressModel~TransientAddressModel} addressToAdd - The address to add.
     */
    addAddressToAddressBook: function (addressToAdd) {
        var address = new TransientAddress();
        var addressBook = {};

        if (addressToAdd) {

            // Tries to parse incoming JSON string.
            if (this.object.custom.sessionAddressBook) {
                try {
                    addressBook = JSON.parse(this.object.custom.sessionAddressBook);
                } catch (error) {
                    MultiShippingLogger.error(Resource.msgf('multishipping.error.parsejson', 'checkout', null, error));
                    return;
                }
            }

            // Checks if JSON object already has addresses.
            if (!(addressBook.addresses instanceof Array)) {
                addressBook.addresses = [];
            }

            // Copies referenceAddress to address object to be stringified.
            address.copyFrom(addressToAdd);
            address.UUID = addressToAdd.UUID;
            // Adds address if not already existing.
            if (!address.addressExists(addressBook.addresses)) {
                addressBook.addresses.push(address);
            }
        }

        this.object.custom.sessionAddressBook = JSON.stringify(addressBook);
    },

    /**
     * Updates the given address in the cart's address book.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/updateAddressBookAddress
     * @param {module:models/TransientAddressModel~TransientAddressModel} addressToUpdate - The address to update.
     */
    updateAddressBookAddress: function (addressToUpdate) {
        var addresses = [];
        var addressBook = {};

        if (addressToUpdate &amp;&amp; this.object.custom.sessionAddressBook) {
            try {
                addressBook = JSON.parse(this.object.custom.sessionAddressBook);
            } catch (error) {
                MultiShippingLogger.error(Resource.msgf('multishipping.error.parsejson', 'checkout', null, error));
                return;
            }

            addresses = addressBook.addresses;

            for (var i = 0; i &lt; addresses.length; i++) {
                if (addresses[i].UUID === addressToUpdate.UUID) {
                    addressToUpdate.ID = addresses[i].ID;
                    addressToUpdate.referenceAddressUUID = addresses[i].referenceAddressUUID;
                    addressBook.addresses[i] = addressToUpdate;
                }
            }

            this.object.custom.sessionAddressBook = JSON.stringify(addressBook);
        }
    },

    /**
     * Creates an Order based on the cart. If the order is created successfully, it has status CREATED.
     * Once the order is created, the cart is removed from the session and marked for removal.
     *
     * If the order is not created successfully the function returns null, if any of the following conditions are encountered:
     * &lt;ul>
     * &lt;li>any of the totals (net, gross, tax) of the basket is N/A&lt;/li>
     * &lt;li>any of the product items is not available&lt;/li>
     * &lt;li>any campaign-based coupon in the basket is invalid (see dw.order.CouponLineItem.isValid())&lt;/li>
     * &lt;li>the basket represents an order being edited, but the order has been already been replaced by another order&lt;/li>
     * &lt;li>the basket represents an order being edited, but the customer associated with the original order is not the same as the current customer&lt;/li>
     * &lt;/ul>
     * All empty shipments of the basket are removed before creating the order. A shipment is empty if it contains
     * no product or gift certificate line items or all total prices (net, gross, tax) are 0.0.
     *
     * The function decrements inventory for all products contained in the order. This means the 'reserve inventory for
     * order' functionality must not be subsequently called. The function redeems all coupons contained in the order.
     *
     * If the cart contains product or gift certificate line items associated with product list items, the function
     * updates the purchase of the product list items. For example, if the basket contains an item added from a gift
     * registry, the purchase history of the respective gift registry item is updated.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/createOrder
     * @returns {dw.order.Order} The created order in status CREATED or null if an error occured.
     */
    createOrder: function () {
        var basket = this.object;
        var order;
        try {
            order = Transaction.wrap(function () {
                return OrderMgr.createOrder(basket);
            });
        } catch (error) {
            return;
        }

        return order;
    },

    /**
     * Determines if the cart already contains payment instruments of the given payment method and removes them
     * from the basket.
     *
     * @transactional
     * @alias module:models/CartModel~CartModel/removeExistingPaymentInstruments
     * @param {String} method - Name of the payment method.
     */
    removeExistingPaymentInstruments: function (method) {
        var iter = this.getPaymentInstruments(method).iterator();

        // Remove payment instruments.
        while (iter.hasNext()) {
            this.removePaymentInstrument(iter.next());
        }
    },

    /**
     * Gets a gift certificate line item.
     *
     * @alias module:models/CartModel~CartModel/removeExistingPaymentInstruments
     * @param {String} uuid - UUID of the gift certificate line item to retrieve.
     * @return {dw.order.GiftCertificate | null} giftCertificate object with the passed UUID or null if no gift certificate with the passed UUID exists in the cart.
     */
    getGiftCertificateLineItemByUUID: function (uuid) {
        for (var it = this.object.getGiftCertificateLineItems().iterator(); it.hasNext();) {
            var item = it.next();
            if (item.getUUID() === uuid) {
                return item;
            }
        }
        return null;
    }

});

/**
 * Gets a new instance for the current or a given basket.
 *
 * @alias module:models/CartModel~CartModel/get
 * @param parameter {dw.order.Basket=} The basket object to enhance/wrap. If NULL the basket is retrieved from
 * the current session, if existing.
 * @returns {module:models/CartModel~CartModel}
 */
CartModel.get = function (parameter) {
    var basket = null;

    if (!parameter) {

        var currentBasket = BasketMgr.getCurrentBasket();

        if (currentBasket !== null) {
            basket = currentBasket;
        }

    } else if (typeof parameter === 'object') {
        basket = parameter;
    }
    return (basket !== null) ? new CartModel(basket) : null;
};

/**
 * Gets or creates a new instance of a basket.
 *
 * @alias module:models/CartModel~CartModel/goc
 * @returns {module:models/CartModel~CartModel}
 */
CartModel.goc = function () {
    var obj = null;

    var basket = BasketMgr.getCurrentOrNewBasket();

    if (basket &amp;&amp; basket !== null) {
        obj = basket;
    }

    return new CartModel(obj);
};

/** The cart class */
module.exports = CartModel;
</code></pre>
        </article>
    </section>




</div>

<nav id="navigation" class="navigation">
    <div class="search"><input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations"></div>
    <h2><a href="../../index.html">Home</a></h2><h3>Modules</h3><ul><li class="item" data-name="module:app"><span class="expand">+</span><a href="module-app.html">app</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:app.getController"><a href="module-app.html#.getController">getController</a></li><li data-name="module:app.getForm"><a href="module-app.html#.getForm">getForm</a></li><li data-name="module:app.getModel"><a href="module-app.html#.getModel">getModel</a></li><li data-name="module:app.getView"><a href="module-app.html#.getView">getView</a></li></ul></li><li class="item" data-name="module:controllers/ABTestEvent"><span class="expand">+</span><a href="module-controllers_ABTestEvent.html">controllers/ABTestEvent</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/ABTestEvent~startCheckout"><a href="module-controllers_ABTestEvent.html#~startCheckout">startCheckout</a></li></ul></li><li class="item" data-name="module:controllers/Account"><span class="expand">+</span><a href="module-controllers_Account.html">controllers/Account</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Account~editForm"><a href="module-controllers_Account.html#~editForm">editForm</a></li><li data-name="module:controllers/Account~editProfile"><a href="module-controllers_Account.html#~editProfile">editProfile</a></li><li data-name="module:controllers/Account~includeNavigation"><a href="module-controllers_Account.html#~includeNavigation">includeNavigation</a></li><li data-name="module:controllers/Account~passwordReset"><a href="module-controllers_Account.html#~passwordReset">passwordReset</a></li><li data-name="module:controllers/Account~passwordResetDialog"><a href="module-controllers_Account.html#~passwordResetDialog">passwordResetDialog</a></li><li data-name="module:controllers/Account~passwordResetDialogForm"><a href="module-controllers_Account.html#~passwordResetDialogForm">passwordResetDialogForm</a></li><li data-name="module:controllers/Account~passwordResetForm"><a href="module-controllers_Account.html#~passwordResetForm">passwordResetForm</a></li><li data-name="module:controllers/Account~passwordResetFormHandler"><a href="module-controllers_Account.html#~passwordResetFormHandler">passwordResetFormHandler</a></li><li data-name="module:controllers/Account~registrationForm"><a href="module-controllers_Account.html#~registrationForm">registrationForm</a></li><li data-name="module:controllers/Account~setNewPassword"><a href="module-controllers_Account.html#~setNewPassword">setNewPassword</a></li><li data-name="module:controllers/Account~setNewPasswordForm"><a href="module-controllers_Account.html#~setNewPasswordForm">setNewPasswordForm</a></li><li data-name="module:controllers/Account~show"><a href="module-controllers_Account.html#~show">show</a></li><li data-name="module:controllers/Account~startRegister"><a href="module-controllers_Account.html#~startRegister">startRegister</a></li></ul></li><li class="item" data-name="module:controllers/Address"><span class="expand">+</span><a href="module-controllers_Address.html">controllers/Address</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Address~add"><a href="module-controllers_Address.html#~add">add</a></li><li data-name="module:controllers/Address~Delete"><a href="module-controllers_Address.html#~Delete">Delete</a></li><li data-name="module:controllers/Address~edit"><a href="module-controllers_Address.html#~edit">edit</a></li><li data-name="module:controllers/Address~getAddressDetails"><a href="module-controllers_Address.html#~getAddressDetails">getAddressDetails</a></li><li data-name="module:controllers/Address~handleForm"><a href="module-controllers_Address.html#~handleForm">handleForm</a></li><li data-name="module:controllers/Address~list"><a href="module-controllers_Address.html#~list">list</a></li><li data-name="module:controllers/Address~setDefault"><a href="module-controllers_Address.html#~setDefault">setDefault</a></li></ul></li><li class="item" data-name="module:controllers/Cart"><span class="expand">+</span><a href="module-controllers_Cart.html">controllers/Cart</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Cart~addBonusProductJson"><a href="module-controllers_Cart.html#~addBonusProductJson">addBonusProductJson</a></li><li data-name="module:controllers/Cart~addCouponJson"><a href="module-controllers_Cart.html#~addCouponJson">addCouponJson</a></li><li data-name="module:controllers/Cart~addProduct"><a href="module-controllers_Cart.html#~addProduct">addProduct</a></li><li data-name="module:controllers/Cart~addToWishlist"><a href="module-controllers_Cart.html#~addToWishlist">addToWishlist</a></li><li data-name="module:controllers/Cart~continueShopping"><a href="module-controllers_Cart.html#~continueShopping">continueShopping</a></li><li data-name="module:controllers/Cart~miniCart"><a href="module-controllers_Cart.html#~miniCart">miniCart</a></li><li data-name="module:controllers/Cart~show"><a href="module-controllers_Cart.html#~show">show</a></li><li data-name="module:controllers/Cart~submitForm"><a href="module-controllers_Cart.html#~submitForm">submitForm</a></li></ul></li><li class="item" data-name="module:controllers/COBilling"><span class="expand">+</span><a href="module-controllers_COBilling.html">controllers/COBilling</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/COBilling~adjustGiftCertificates"><a href="module-controllers_COBilling.html#~adjustGiftCertificates">adjustGiftCertificates</a></li><li data-name="module:controllers/COBilling~billing"><a href="module-controllers_COBilling.html#~billing">billing</a></li><li data-name="module:controllers/COBilling~editAddress"><a href="module-controllers_COBilling.html#~editAddress">editAddress</a></li><li data-name="module:controllers/COBilling~editBillingAddress"><a href="module-controllers_COBilling.html#~editBillingAddress">editBillingAddress</a></li><li data-name="module:controllers/COBilling~getGiftCertificateBalance"><a href="module-controllers_COBilling.html#~getGiftCertificateBalance">getGiftCertificateBalance</a></li><li data-name="module:controllers/COBilling~handleBillingAddress"><a href="module-controllers_COBilling.html#~handleBillingAddress">handleBillingAddress</a></li><li data-name="module:controllers/COBilling~handleCoupon"><a href="module-controllers_COBilling.html#~handleCoupon">handleCoupon</a></li><li data-name="module:controllers/COBilling~handlePaymentSelection"><a href="module-controllers_COBilling.html#~handlePaymentSelection">handlePaymentSelection</a></li><li data-name="module:controllers/COBilling~initAddressForm"><a href="module-controllers_COBilling.html#~initAddressForm">initAddressForm</a></li><li data-name="module:controllers/COBilling~initCreditCardList"><a href="module-controllers_COBilling.html#~initCreditCardList">initCreditCardList</a></li><li data-name="module:controllers/COBilling~initEmailAddress"><a href="module-controllers_COBilling.html#~initEmailAddress">initEmailAddress</a></li><li data-name="module:controllers/COBilling~publicStart"><a href="module-controllers_COBilling.html#~publicStart">publicStart</a></li><li data-name="module:controllers/COBilling~redeemGiftCertificate"><a href="module-controllers_COBilling.html#~redeemGiftCertificate">redeemGiftCertificate</a></li><li data-name="module:controllers/COBilling~redeemGiftCertificateJson"><a href="module-controllers_COBilling.html#~redeemGiftCertificateJson">redeemGiftCertificateJson</a></li><li data-name="module:controllers/COBilling~removeGiftCertificate"><a href="module-controllers_COBilling.html#~removeGiftCertificate">removeGiftCertificate</a></li><li data-name="module:controllers/COBilling~resetPaymentForms"><a href="module-controllers_COBilling.html#~resetPaymentForms">resetPaymentForms</a></li><li data-name="module:controllers/COBilling~returnToForm"><a href="module-controllers_COBilling.html#~returnToForm">returnToForm</a></li><li data-name="module:controllers/COBilling~saveCreditCard"><a href="module-controllers_COBilling.html#~saveCreditCard">saveCreditCard</a></li><li data-name="module:controllers/COBilling~selectCreditCard"><a href="module-controllers_COBilling.html#~selectCreditCard">selectCreditCard</a></li><li data-name="module:controllers/COBilling~start"><a href="module-controllers_COBilling.html#~start">start</a></li><li data-name="module:controllers/COBilling~updateAddressDetails"><a href="module-controllers_COBilling.html#~updateAddressDetails">updateAddressDetails</a></li><li data-name="module:controllers/COBilling~updateCreditCardSelection"><a href="module-controllers_COBilling.html#~updateCreditCardSelection">updateCreditCardSelection</a></li><li data-name="module:controllers/COBilling~updateSummary"><a href="module-controllers_COBilling.html#~updateSummary">updateSummary</a></li><li data-name="module:controllers/COBilling~validateBilling"><a href="module-controllers_COBilling.html#~validateBilling">validateBilling</a></li><li data-name="module:controllers/COBilling~validatePayment"><a href="module-controllers_COBilling.html#~validatePayment">validatePayment</a></li></ul></li><li class="item" data-name="module:controllers/COCustomer"><span class="expand">+</span><a href="module-controllers_COCustomer.html">controllers/COCustomer</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/COCustomer~showLoginForm"><a href="module-controllers_COCustomer.html#~showLoginForm">showLoginForm</a></li><li data-name="module:controllers/COCustomer~start"><a href="module-controllers_COCustomer.html#~start">start</a></li></ul></li><li class="item" data-name="module:controllers/Compare"><span class="expand">+</span><a href="module-controllers_Compare.html">controllers/Compare</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Compare~addProduct"><a href="module-controllers_Compare.html#~addProduct">addProduct</a></li><li data-name="module:controllers/Compare~controls"><a href="module-controllers_Compare.html#~controls">controls</a></li><li data-name="module:controllers/Compare~removeProduct"><a href="module-controllers_Compare.html#~removeProduct">removeProduct</a></li><li data-name="module:controllers/Compare~show"><a href="module-controllers_Compare.html#~show">show</a></li></ul></li><li class="item" data-name="module:controllers/COPlaceOrder"><span class="expand">+</span><a href="module-controllers_COPlaceOrder.html">controllers/COPlaceOrder</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/COPlaceOrder~handlePayments"><a href="module-controllers_COPlaceOrder.html#~handlePayments">handlePayments</a></li><li data-name="module:controllers/COPlaceOrder~start"><a href="module-controllers_COPlaceOrder.html#~start">start</a></li><li data-name="module:controllers/COPlaceOrder~submitPaymentJSON"><a href="module-controllers_COPlaceOrder.html#~submitPaymentJSON">submitPaymentJSON</a></li></ul></li><li class="item" data-name="module:controllers/COShipping"><span class="expand">+</span><a href="module-controllers_COShipping.html">controllers/COShipping</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/COShipping~editAddress"><a href="module-controllers_COShipping.html#~editAddress">editAddress</a></li><li data-name="module:controllers/COShipping~editShippingAddress"><a href="module-controllers_COShipping.html#~editShippingAddress">editShippingAddress</a></li><li data-name="module:controllers/COShipping~getApplicableShippingMethodsJSON"><a href="module-controllers_COShipping.html#~getApplicableShippingMethodsJSON">getApplicableShippingMethodsJSON</a></li><li data-name="module:controllers/COShipping~handleShippingSettings"><a href="module-controllers_COShipping.html#~handleShippingSettings">handleShippingSettings</a></li><li data-name="module:controllers/COShipping~prepareShipments"><a href="module-controllers_COShipping.html#~prepareShipments">prepareShipments</a></li><li data-name="module:controllers/COShipping~selectShippingMethod"><a href="module-controllers_COShipping.html#~selectShippingMethod">selectShippingMethod</a></li><li data-name="module:controllers/COShipping~singleShipping"><a href="module-controllers_COShipping.html#~singleShipping">singleShipping</a></li><li data-name="module:controllers/COShipping~start"><a href="module-controllers_COShipping.html#~start">start</a></li><li data-name="module:controllers/COShipping~updateAddressDetails"><a href="module-controllers_COShipping.html#~updateAddressDetails">updateAddressDetails</a></li><li data-name="module:controllers/COShipping~updateShippingMethodList"><a href="module-controllers_COShipping.html#~updateShippingMethodList">updateShippingMethodList</a></li></ul></li><li class="item" data-name="module:controllers/COShippingMultiple"><span class="expand">+</span><a href="module-controllers_COShippingMultiple.html">controllers/COShippingMultiple</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/COShippingMultiple~addEditAddress"><a href="module-controllers_COShippingMultiple.html#~addEditAddress">addEditAddress</a></li><li data-name="module:controllers/COShippingMultiple~addEditAddressJSON"><a href="module-controllers_COShippingMultiple.html#~addEditAddressJSON">addEditAddressJSON</a></li><li data-name="module:controllers/COShippingMultiple~editAddresses"><a href="module-controllers_COShippingMultiple.html#~editAddresses">editAddresses</a></li><li data-name="module:controllers/COShippingMultiple~editForm"><a href="module-controllers_COShippingMultiple.html#~editForm">editForm</a></li><li data-name="module:controllers/COShippingMultiple~initAddressForms"><a href="module-controllers_COShippingMultiple.html#~initAddressForms">initAddressForms</a></li><li data-name="module:controllers/COShippingMultiple~multiShippingAddresses"><a href="module-controllers_COShippingMultiple.html#~multiShippingAddresses">multiShippingAddresses</a></li><li data-name="module:controllers/COShippingMultiple~multiShippingMethods"><a href="module-controllers_COShippingMultiple.html#~multiShippingMethods">multiShippingMethods</a></li><li data-name="module:controllers/COShippingMultiple~start"><a href="module-controllers_COShippingMultiple.html#~start">start</a></li><li data-name="module:controllers/COShippingMultiple~startShipments"><a href="module-controllers_COShippingMultiple.html#~startShipments">startShipments</a></li></ul></li><li class="item" data-name="module:controllers/COSummary"><span class="expand">+</span><a href="module-controllers_COSummary.html">controllers/COSummary</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/COSummary~showConfirmation"><a href="module-controllers_COSummary.html#~showConfirmation">showConfirmation</a></li><li data-name="module:controllers/COSummary~start"><a href="module-controllers_COSummary.html#~start">start</a></li><li data-name="module:controllers/COSummary~submit"><a href="module-controllers_COSummary.html#~submit">submit</a></li></ul></li><li class="item" data-name="module:controllers/Currency"><span class="expand">+</span><a href="module-controllers_Currency.html">controllers/Currency</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Currency~setSessionCurrency"><a href="module-controllers_Currency.html#~setSessionCurrency">setSessionCurrency</a></li></ul></li><li class="item" data-name="module:controllers/CustomerService"><span class="expand">+</span><a href="module-controllers_CustomerService.html">controllers/CustomerService</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/CustomerService~contactUs"><a href="module-controllers_CustomerService.html#~contactUs">contactUs</a></li><li data-name="module:controllers/CustomerService~leftNav"><a href="module-controllers_CustomerService.html#~leftNav">leftNav</a></li><li data-name="module:controllers/CustomerService~show"><a href="module-controllers_CustomerService.html#~show">show</a></li><li data-name="module:controllers/CustomerService~submit"><a href="module-controllers_CustomerService.html#~submit">submit</a></li></ul></li><li class="item" data-name="module:controllers/Default"><span class="expand">+</span><a href="module-controllers_Default.html">controllers/Default</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Default~offline"><a href="module-controllers_Default.html#~offline">offline</a></li></ul></li><li class="item" data-name="module:controllers/Error"><span class="expand">+</span><a href="module-controllers_Error.html">controllers/Error</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Error~forbidden"><a href="module-controllers_Error.html#~forbidden">forbidden</a></li><li data-name="module:controllers/Error~start"><a href="module-controllers_Error.html#~start">start</a></li></ul></li><li class="item" data-name="module:controllers/GiftCert"><span class="expand">+</span><a href="module-controllers_GiftCert.html">controllers/GiftCert</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/GiftCert~addToBasket"><a href="module-controllers_GiftCert.html#~addToBasket">addToBasket</a></li><li data-name="module:controllers/GiftCert~checkBalance"><a href="module-controllers_GiftCert.html#~checkBalance">checkBalance</a></li><li data-name="module:controllers/GiftCert~createGiftCert"><a href="module-controllers_GiftCert.html#~createGiftCert">createGiftCert</a></li><li data-name="module:controllers/GiftCert~edit"><a href="module-controllers_GiftCert.html#~edit">edit</a></li><li data-name="module:controllers/GiftCert~processAddToBasket"><a href="module-controllers_GiftCert.html#~processAddToBasket">processAddToBasket</a></li><li data-name="module:controllers/GiftCert~purchase"><a href="module-controllers_GiftCert.html#~purchase">purchase</a></li><li data-name="module:controllers/GiftCert~showError"><a href="module-controllers_GiftCert.html#~showError">showError</a></li><li data-name="module:controllers/GiftCert~showMiniCart"><a href="module-controllers_GiftCert.html#~showMiniCart">showMiniCart</a></li><li data-name="module:controllers/GiftCert~showPurchase"><a href="module-controllers_GiftCert.html#~showPurchase">showPurchase</a></li><li data-name="module:controllers/GiftCert~update"><a href="module-controllers_GiftCert.html#~update">update</a></li><li data-name="module:controllers/GiftCert~updateGiftCert"><a href="module-controllers_GiftCert.html#~updateGiftCert">updateGiftCert</a></li></ul></li><li class="item" data-name="module:controllers/GiftRegistry"><span class="expand">+</span><a href="module-controllers_GiftRegistry.html">controllers/GiftRegistry</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/GiftRegistry~addProduct"><a href="module-controllers_GiftRegistry.html#~addProduct">addProduct</a></li><li data-name="module:controllers/GiftRegistry~confirm"><a href="module-controllers_GiftRegistry.html#~confirm">confirm</a></li><li data-name="module:controllers/GiftRegistry~create"><a href="module-controllers_GiftRegistry.html#~create">create</a></li><li data-name="module:controllers/GiftRegistry~createOne"><a href="module-controllers_GiftRegistry.html#~createOne">createOne</a></li><li data-name="module:controllers/GiftRegistry~deleteList"><a href="module-controllers_GiftRegistry.html#~deleteList">deleteList</a></li><li data-name="module:controllers/GiftRegistry~editParticipant"><a href="module-controllers_GiftRegistry.html#~editParticipant">editParticipant</a></li><li data-name="module:controllers/GiftRegistry~eventParticipant"><a href="module-controllers_GiftRegistry.html#~eventParticipant">eventParticipant</a></li><li data-name="module:controllers/GiftRegistry~handleRegistryAddresses"><a href="module-controllers_GiftRegistry.html#~handleRegistryAddresses">handleRegistryAddresses</a></li><li data-name="module:controllers/GiftRegistry~selectOne"><a href="module-controllers_GiftRegistry.html#~selectOne">selectOne</a></li><li data-name="module:controllers/GiftRegistry~selectProductListInteraction"><a href="module-controllers_GiftRegistry.html#~selectProductListInteraction">selectProductListInteraction</a></li><li data-name="module:controllers/GiftRegistry~setParticipants"><a href="module-controllers_GiftRegistry.html#~setParticipants">setParticipants</a></li><li data-name="module:controllers/GiftRegistry~setProductListPublic"><a href="module-controllers_GiftRegistry.html#~setProductListPublic">setProductListPublic</a></li><li data-name="module:controllers/GiftRegistry~showRegistry"><a href="module-controllers_GiftRegistry.html#~showRegistry">showRegistry</a></li><li data-name="module:controllers/GiftRegistry~showRegistryByID"><a href="module-controllers_GiftRegistry.html#~showRegistryByID">showRegistryByID</a></li><li data-name="module:controllers/GiftRegistry~start"><a href="module-controllers_GiftRegistry.html#~start">start</a></li><li data-name="module:controllers/GiftRegistry~submitForm"><a href="module-controllers_GiftRegistry.html#~submitForm">submitForm</a></li></ul></li><li class="item" data-name="module:controllers/GiftRegistryCustomer"><span class="expand">+</span><a href="module-controllers_GiftRegistryCustomer.html">controllers/GiftRegistryCustomer</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/GiftRegistryCustomer~Show"><a href="module-controllers_GiftRegistryCustomer.html#~Show">Show</a></li><li data-name="module:controllers/GiftRegistryCustomer~ShowInteraction"><a href="module-controllers_GiftRegistryCustomer.html#~ShowInteraction">ShowInteraction</a></li></ul></li><li class="item" data-name="module:controllers/Home"><span class="expand">+</span><a href="module-controllers_Home.html">controllers/Home</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Home~deviceLayouts"><a href="module-controllers_Home.html#~deviceLayouts">deviceLayouts</a></li><li data-name="module:controllers/Home~errorNotFound"><a href="module-controllers_Home.html#~errorNotFound">errorNotFound</a></li><li data-name="module:controllers/Home~fullSite"><a href="module-controllers_Home.html#~fullSite">fullSite</a></li><li data-name="module:controllers/Home~includeHeader"><a href="module-controllers_Home.html#~includeHeader">includeHeader</a></li><li data-name="module:controllers/Home~includeHeaderCustomerInfo"><a href="module-controllers_Home.html#~includeHeaderCustomerInfo">includeHeaderCustomerInfo</a></li><li data-name="module:controllers/Home~includeHeaderMenu"><a href="module-controllers_Home.html#~includeHeaderMenu">includeHeaderMenu</a></li><li data-name="module:controllers/Home~mobileSite"><a href="module-controllers_Home.html#~mobileSite">mobileSite</a></li><li data-name="module:controllers/Home~setLayout"><a href="module-controllers_Home.html#~setLayout">setLayout</a></li><li data-name="module:controllers/Home~show"><a href="module-controllers_Home.html#~show">show</a></li></ul></li><li class="item" data-name="module:controllers/Link"><span class="expand">&nbsp;</span><a href="module-controllers_Link.html">controllers/Link</a></li><li class="item" data-name="module:controllers/Login"><span class="expand">+</span><a href="module-controllers_Login.html">controllers/Login</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Login~finishOAuthLogin"><a href="module-controllers_Login.html#~finishOAuthLogin">finishOAuthLogin</a></li><li data-name="module:controllers/Login~getSinaWeiboAccountInfo"><a href="module-controllers_Login.html#~getSinaWeiboAccountInfo">getSinaWeiboAccountInfo</a></li><li data-name="module:controllers/Login~getTargetUrl"><a href="module-controllers_Login.html#~getTargetUrl">getTargetUrl</a></li><li data-name="module:controllers/Login~handleLoginForm"><a href="module-controllers_Login.html#~handleLoginForm">handleLoginForm</a></li><li data-name="module:controllers/Login~handleOAuthLoginForm"><a href="module-controllers_Login.html#~handleOAuthLoginForm">handleOAuthLoginForm</a></li><li data-name="module:controllers/Login~handleOAuthReentry"><a href="module-controllers_Login.html#~handleOAuthReentry">handleOAuthReentry</a></li><li data-name="module:controllers/Login~Logout"><a href="module-controllers_Login.html#~Logout">Logout</a></li><li data-name="module:controllers/Login~oAuthFailed"><a href="module-controllers_Login.html#~oAuthFailed">oAuthFailed</a></li><li data-name="module:controllers/Login~oAuthSuccess"><a href="module-controllers_Login.html#~oAuthSuccess">oAuthSuccess</a></li><li data-name="module:controllers/Login~processLoginForm"><a href="module-controllers_Login.html#~processLoginForm">processLoginForm</a></li><li data-name="module:controllers/Login~show"><a href="module-controllers_Login.html#~show">show</a></li></ul></li><li class="item" data-name="module:controllers/Order"><span class="expand">+</span><a href="module-controllers_Order.html">controllers/Order</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Order~history"><a href="module-controllers_Order.html#~history">history</a></li><li data-name="module:controllers/Order~orders"><a href="module-controllers_Order.html#~orders">orders</a></li><li data-name="module:controllers/Order~track"><a href="module-controllers_Order.html#~track">track</a></li></ul></li><li class="item" data-name="module:controllers/Page"><span class="expand">+</span><a href="module-controllers_Page.html">controllers/Page</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Page~include"><a href="module-controllers_Page.html#~include">include</a></li><li data-name="module:controllers/Page~show"><a href="module-controllers_Page.html#~show">show</a></li></ul></li><li class="item" data-name="module:controllers/PaymentInstruments"><span class="expand">+</span><a href="module-controllers_PaymentInstruments.html">controllers/PaymentInstruments</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/PaymentInstruments~add"><a href="module-controllers_PaymentInstruments.html#~add">add</a></li><li data-name="module:controllers/PaymentInstruments~create"><a href="module-controllers_PaymentInstruments.html#~create">create</a></li><li data-name="module:controllers/PaymentInstruments~Delete"><a href="module-controllers_PaymentInstruments.html#~Delete">Delete</a></li><li data-name="module:controllers/PaymentInstruments~handlePaymentForm"><a href="module-controllers_PaymentInstruments.html#~handlePaymentForm">handlePaymentForm</a></li><li data-name="module:controllers/PaymentInstruments~list"><a href="module-controllers_PaymentInstruments.html#~list">list</a></li><li data-name="module:controllers/PaymentInstruments~save"><a href="module-controllers_PaymentInstruments.html#~save">save</a></li><li data-name="module:controllers/PaymentInstruments~verifyCreditCard"><a href="module-controllers_PaymentInstruments.html#~verifyCreditCard">verifyCreditCard</a></li></ul></li><li class="item" data-name="module:controllers/Product"><span class="expand">+</span><a href="module-controllers_Product.html">controllers/Product</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Product~detail"><a href="module-controllers_Product.html#~detail">detail</a></li><li data-name="module:controllers/Product~getAvailability"><a href="module-controllers_Product.html#~getAvailability">getAvailability</a></li><li data-name="module:controllers/Product~getBonusProducts"><a href="module-controllers_Product.html#~getBonusProducts">getBonusProducts</a></li><li data-name="module:controllers/Product~getSelectedProduct"><a href="module-controllers_Product.html#~getSelectedProduct">getSelectedProduct</a></li><li data-name="module:controllers/Product~getSetItem"><a href="module-controllers_Product.html#~getSetItem">getSetItem</a></li><li data-name="module:controllers/Product~hitTile"><a href="module-controllers_Product.html#~hitTile">hitTile</a></li><li data-name="module:controllers/Product~includeLastVisited"><a href="module-controllers_Product.html#~includeLastVisited">includeLastVisited</a></li><li data-name="module:controllers/Product~productNavigation"><a href="module-controllers_Product.html#~productNavigation">productNavigation</a></li><li data-name="module:controllers/Product~show"><a href="module-controllers_Product.html#~show">show</a></li><li data-name="module:controllers/Product~showInCategory"><a href="module-controllers_Product.html#~showInCategory">showInCategory</a></li><li data-name="module:controllers/Product~variation"><a href="module-controllers_Product.html#~variation">variation</a></li><li data-name="module:controllers/Product~variationPS"><a href="module-controllers_Product.html#~variationPS">variationPS</a></li></ul></li><li class="item" data-name="module:controllers/RateLimiter"><span class="expand">&nbsp;</span><a href="module-controllers_RateLimiter.html">controllers/RateLimiter</a></li><li class="item" data-name="module:controllers/RedirectURL"><span class="expand">+</span><a href="module-controllers_RedirectURL.html">controllers/RedirectURL</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/RedirectURL~hostName"><a href="module-controllers_RedirectURL.html#~hostName">hostName</a></li><li data-name="module:controllers/RedirectURL~start"><a href="module-controllers_RedirectURL.html#~start">start</a></li></ul></li><li class="item" data-name="module:controllers/ReportingEvent"><span class="expand">+</span><a href="module-controllers_ReportingEvent.html">controllers/ReportingEvent</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/ReportingEvent~start"><a href="module-controllers_ReportingEvent.html#~start">start</a></li></ul></li><li class="item" data-name="module:controllers/Resources"><span class="expand">+</span><a href="module-controllers_Resources.html">controllers/Resources</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Resources~loadTransient"><a href="module-controllers_Resources.html#~loadTransient">loadTransient</a></li></ul></li><li class="item" data-name="module:controllers/Search"><span class="expand">+</span><a href="module-controllers_Search.html">controllers/Search</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Search~getSuggestions"><a href="module-controllers_Search.html#~getSuggestions">getSuggestions</a></li><li data-name="module:controllers/Search~show"><a href="module-controllers_Search.html#~show">show</a></li><li data-name="module:controllers/Search~showContent"><a href="module-controllers_Search.html#~showContent">showContent</a></li><li data-name="module:controllers/Search~showProductGrid"><a href="module-controllers_Search.html#~showProductGrid">showProductGrid</a></li></ul></li><li class="item" data-name="module:controllers/SiteMap"><span class="expand">+</span><a href="module-controllers_SiteMap.html">controllers/SiteMap</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/SiteMap~google"><a href="module-controllers_SiteMap.html#~google">google</a></li><li data-name="module:controllers/SiteMap~start"><a href="module-controllers_SiteMap.html#~start">start</a></li></ul></li><li class="item" data-name="module:controllers/SourceCodeRedirect"><span class="expand">+</span><a href="module-controllers_SourceCodeRedirect.html">controllers/SourceCodeRedirect</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/SourceCodeRedirect~start"><a href="module-controllers_SourceCodeRedirect.html#~start">start</a></li></ul></li><li class="item" data-name="module:controllers/StoreInventory"><span class="expand">+</span><a href="module-controllers_StoreInventory.html">controllers/StoreInventory</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/StoreInventory~cartSetZipCodeCore"><a href="module-controllers_StoreInventory.html#~cartSetZipCodeCore">cartSetZipCodeCore</a></li><li data-name="module:controllers/StoreInventory~getPreferredStore"><a href="module-controllers_StoreInventory.html#~getPreferredStore">getPreferredStore</a></li><li data-name="module:controllers/StoreInventory~getProductLineItem"><a href="module-controllers_StoreInventory.html#~getProductLineItem">getProductLineItem</a></li><li data-name="module:controllers/StoreInventory~getStoreAvailabilityMap"><a href="module-controllers_StoreInventory.html#~getStoreAvailabilityMap">getStoreAvailabilityMap</a></li><li data-name="module:controllers/StoreInventory~getStoreAvailabilityMessage"><a href="module-controllers_StoreInventory.html#~getStoreAvailabilityMessage">getStoreAvailabilityMessage</a></li><li data-name="module:controllers/StoreInventory~getZipCode"><a href="module-controllers_StoreInventory.html#~getZipCode">getZipCode</a></li><li data-name="module:controllers/StoreInventory~inventory"><a href="module-controllers_StoreInventory.html#~inventory">inventory</a></li><li data-name="module:controllers/StoreInventory~lookupByZipCode"><a href="module-controllers_StoreInventory.html#~lookupByZipCode">lookupByZipCode</a></li><li data-name="module:controllers/StoreInventory~setPreferredStore"><a href="module-controllers_StoreInventory.html#~setPreferredStore">setPreferredStore</a></li><li data-name="module:controllers/StoreInventory~setStore"><a href="module-controllers_StoreInventory.html#~setStore">setStore</a></li><li data-name="module:controllers/StoreInventory~setStoreCore"><a href="module-controllers_StoreInventory.html#~setStoreCore">setStoreCore</a></li><li data-name="module:controllers/StoreInventory~setStoreInLineItem"><a href="module-controllers_StoreInventory.html#~setStoreInLineItem">setStoreInLineItem</a></li><li data-name="module:controllers/StoreInventory~setZipCode"><a href="module-controllers_StoreInventory.html#~setZipCode">setZipCode</a></li><li data-name="module:controllers/StoreInventory~setZipCodeCore"><a href="module-controllers_StoreInventory.html#~setZipCodeCore">setZipCodeCore</a></li><li data-name="module:controllers/StoreInventory~showAvailableStores"><a href="module-controllers_StoreInventory.html#~showAvailableStores">showAvailableStores</a></li><li data-name="module:controllers/StoreInventory~showSelectedStoreCore"><a href="module-controllers_StoreInventory.html#~showSelectedStoreCore">showSelectedStoreCore</a></li><li data-name="module:controllers/StoreInventory~showSetStore"><a href="module-controllers_StoreInventory.html#~showSetStore">showSetStore</a></li><li data-name="module:controllers/StoreInventory~showZipCode"><a href="module-controllers_StoreInventory.html#~showZipCode">showZipCode</a></li></ul></li><li class="item" data-name="module:controllers/Stores"><span class="expand">+</span><a href="module-controllers_Stores.html">controllers/Stores</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Stores~details"><a href="module-controllers_Stores.html#~details">details</a></li><li data-name="module:controllers/Stores~find"><a href="module-controllers_Stores.html#~find">find</a></li><li data-name="module:controllers/Stores~findStores"><a href="module-controllers_Stores.html#~findStores">findStores</a></li></ul></li><li class="item" data-name="module:controllers/TLS"><span class="expand">&nbsp;</span><a href="module-controllers_TLS.html">controllers/TLS</a></li><li class="item" data-name="module:controllers/Wishlist"><span class="expand">+</span><a href="module-controllers_Wishlist.html">controllers/Wishlist</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:controllers/Wishlist~add"><a href="module-controllers_Wishlist.html#~add">add</a></li><li data-name="module:controllers/Wishlist~addProduct"><a href="module-controllers_Wishlist.html#~addProduct">addProduct</a></li><li data-name="module:controllers/Wishlist~landingForm"><a href="module-controllers_Wishlist.html#~landingForm">landingForm</a></li><li data-name="module:controllers/Wishlist~replaceProductListItem"><a href="module-controllers_Wishlist.html#~replaceProductListItem">replaceProductListItem</a></li><li data-name="module:controllers/Wishlist~setShippingAddress"><a href="module-controllers_Wishlist.html#~setShippingAddress">setShippingAddress</a></li><li data-name="module:controllers/Wishlist~show"><a href="module-controllers_Wishlist.html#~show">show</a></li><li data-name="module:controllers/Wishlist~showOther"><a href="module-controllers_Wishlist.html#~showOther">showOther</a></li><li data-name="module:controllers/Wishlist~wishListForm"><a href="module-controllers_Wishlist.html#~wishListForm">wishListForm</a></li></ul></li><li class="item" data-name="module:guard"><span class="expand">+</span><a href="module-guard.html">guard</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:guard.httpsGet"><a href="module-guard.html#.httpsGet">httpsGet</a></li><li data-name="module:guard.httpsPost"><a href="module-guard.html#.httpsPost">httpsPost</a></li><li data-name="module:guard~ensure"><a href="module-guard.html#~ensure">ensure</a></li><li data-name="module:guard~expose"><a href="module-guard.html#~expose">expose</a></li><li data-name="module:guard~requireLogin"><a href="module-guard.html#~requireLogin">requireLogin</a></li><li data-name="module:guard~switchToHttps"><a href="module-guard.html#~switchToHttps">switchToHttps</a></li></ul></li><li class="item" data-name="module:meta"><span class="expand">&nbsp;</span><a href="module-meta.html">meta</a></li><li class="item" data-name="module:models/AbstractModel"><span class="expand">+</span><a href="module-models_AbstractModel.html">models/AbstractModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/AbstractModel~AbstractModel/__noSuchMethod__"><a href="module-models_AbstractModel.html#~AbstractModel/__noSuchMethod__">AbstractModel/__noSuchMethod__</a></li><li data-name="module:models/AbstractModel~AbstractModel/get"><a href="module-models_AbstractModel.html#~AbstractModel/get">AbstractModel/get</a></li><li data-name="module:models/AbstractModel~AbstractModel/getValue"><a href="module-models_AbstractModel.html#~AbstractModel/getValue">AbstractModel/getValue</a></li><li data-name="module:models/AbstractModel~AbstractModel/initProperties"><a href="module-models_AbstractModel.html#~AbstractModel/initProperties">AbstractModel/initProperties</a></li><li data-name="module:models/AbstractModel~AbstractModel/setValue."><a href="module-models_AbstractModel.html#~AbstractModel/setValue.">AbstractModel/setValue.</a></li></ul></li><li class="item" data-name="module:models/AddressModel"><span class="expand">+</span><a href="module-models_AddressModel.html">models/AddressModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/AddressModel~AddressModel/create"><a href="module-models_AddressModel.html#~AddressModel/create">AddressModel/create</a></li><li data-name="module:models/AddressModel~AddressModel/get"><a href="module-models_AddressModel.html#~AddressModel/get">AddressModel/get</a></li><li data-name="module:models/AddressModel~AddressModel/remove"><a href="module-models_AddressModel.html#~AddressModel/remove">AddressModel/remove</a></li><li data-name="module:models/AddressModel~AddressModel/remove"><a href="module-models_AddressModel.html#~AddressModel/remove">AddressModel/remove</a></li><li data-name="module:models/AddressModel~AddressModel/update"><a href="module-models_AddressModel.html#~AddressModel/update">AddressModel/update</a></li></ul></li><li class="item" data-name="module:models/CartModel"><span class="expand">+</span><a href="module-models_CartModel.html">models/CartModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/CartModel~CartModel/addAddressToAddressBook"><a href="module-models_CartModel.html#~CartModel/addAddressToAddressBook">CartModel/addAddressToAddressBook</a></li><li data-name="module:models/CartModel~CartModel/addBonusProduct"><a href="module-models_CartModel.html#~CartModel/addBonusProduct">CartModel/addBonusProduct</a></li><li data-name="module:models/CartModel~CartModel/addCoupon"><a href="module-models_CartModel.html#~CartModel/addCoupon">CartModel/addCoupon</a></li><li data-name="module:models/CartModel~CartModel/addProductItem"><a href="module-models_CartModel.html#~CartModel/addProductItem">CartModel/addProductItem</a></li><li data-name="module:models/CartModel~CartModel/addProductListItem"><a href="module-models_CartModel.html#~CartModel/addProductListItem">CartModel/addProductListItem</a></li><li data-name="module:models/CartModel~CartModel/calculate"><a href="module-models_CartModel.html#~CartModel/calculate">CartModel/calculate</a></li><li data-name="module:models/CartModel~CartModel/calculatePaymentTransactionTotal"><a href="module-models_CartModel.html#~CartModel/calculatePaymentTransactionTotal">CartModel/calculatePaymentTransactionTotal</a></li><li data-name="module:models/CartModel~CartModel/checkInStoreProducts"><a href="module-models_CartModel.html#~CartModel/checkInStoreProducts">CartModel/checkInStoreProducts</a></li><li data-name="module:models/CartModel~CartModel/consolidateInStoreShipments"><a href="module-models_CartModel.html#~CartModel/consolidateInStoreShipments">CartModel/consolidateInStoreShipments</a></li><li data-name="module:models/CartModel~CartModel/createGiftCertificatePaymentInstrument"><a href="module-models_CartModel.html#~CartModel/createGiftCertificatePaymentInstrument">CartModel/createGiftCertificatePaymentInstrument</a></li><li data-name="module:models/CartModel~CartModel/createOrder"><a href="module-models_CartModel.html#~CartModel/createOrder">CartModel/createOrder</a></li><li data-name="module:models/CartModel~CartModel/createShipmentShippingAddress"><a href="module-models_CartModel.html#~CartModel/createShipmentShippingAddress">CartModel/createShipmentShippingAddress</a></li><li data-name="module:models/CartModel~CartModel/determineUniqueShipmentID"><a href="module-models_CartModel.html#~CartModel/determineUniqueShipmentID">CartModel/determineUniqueShipmentID</a></li><li data-name="module:models/CartModel~CartModel/get"><a href="module-models_CartModel.html#~CartModel/get">CartModel/get</a></li><li data-name="module:models/CartModel~CartModel/getAddressBookAddresses"><a href="module-models_CartModel.html#~CartModel/getAddressBookAddresses">CartModel/getAddressBookAddresses</a></li><li data-name="module:models/CartModel~CartModel/getApplicableShippingMethods"><a href="module-models_CartModel.html#~CartModel/getApplicableShippingMethods">CartModel/getApplicableShippingMethods</a></li><li data-name="module:models/CartModel~CartModel/getBonusDiscountLineItemByUUID"><a href="module-models_CartModel.html#~CartModel/getBonusDiscountLineItemByUUID">CartModel/getBonusDiscountLineItemByUUID</a></li><li data-name="module:models/CartModel~CartModel/getBundledProductLineItemByPID"><a href="module-models_CartModel.html#~CartModel/getBundledProductLineItemByPID">CartModel/getBundledProductLineItemByPID</a></li><li data-name="module:models/CartModel~CartModel/getGiftCertIdList"><a href="module-models_CartModel.html#~CartModel/getGiftCertIdList">CartModel/getGiftCertIdList</a></li><li data-name="module:models/CartModel~CartModel/getNewBonusDiscountLineItems"><a href="module-models_CartModel.html#~CartModel/getNewBonusDiscountLineItems">CartModel/getNewBonusDiscountLineItems</a></li><li data-name="module:models/CartModel~CartModel/getNonGiftCertificateAmount"><a href="module-models_CartModel.html#~CartModel/getNonGiftCertificateAmount">CartModel/getNonGiftCertificateAmount</a></li><li data-name="module:models/CartModel~CartModel/getPhysicalShipments"><a href="module-models_CartModel.html#~CartModel/getPhysicalShipments">CartModel/getPhysicalShipments</a></li><li data-name="module:models/CartModel~CartModel/getProductLineItemByUUID"><a href="module-models_CartModel.html#~CartModel/getProductLineItemByUUID">CartModel/getProductLineItemByUUID</a></li><li data-name="module:models/CartModel~CartModel/goc"><a href="module-models_CartModel.html#~CartModel/goc">CartModel/goc</a></li><li data-name="module:models/CartModel~CartModel/initAddressBook"><a href="module-models_CartModel.html#~CartModel/initAddressBook">CartModel/initAddressBook</a></li><li data-name="module:models/CartModel~CartModel/preCalculateShipping"><a href="module-models_CartModel.html#~CartModel/preCalculateShipping">CartModel/preCalculateShipping</a></li><li data-name="module:models/CartModel~CartModel/removeBonusDiscountLineItemProducts"><a href="module-models_CartModel.html#~CartModel/removeBonusDiscountLineItemProducts">CartModel/removeBonusDiscountLineItemProducts</a></li><li data-name="module:models/CartModel~CartModel/removeEmptyShipments"><a href="module-models_CartModel.html#~CartModel/removeEmptyShipments">CartModel/removeEmptyShipments</a></li><li data-name="module:models/CartModel~CartModel/removeExistingPaymentInstruments"><a href="module-models_CartModel.html#~CartModel/removeExistingPaymentInstruments">CartModel/removeExistingPaymentInstruments</a></li><li data-name="module:models/CartModel~CartModel/removeExistingPaymentInstruments"><a href="module-models_CartModel.html#~CartModel/removeExistingPaymentInstruments">CartModel/removeExistingPaymentInstruments</a></li><li data-name="module:models/CartModel~CartModel/removeGiftCertificatePaymentInstrument"><a href="module-models_CartModel.html#~CartModel/removeGiftCertificatePaymentInstrument">CartModel/removeGiftCertificatePaymentInstrument</a></li><li data-name="module:models/CartModel~CartModel/removePaymentInstruments"><a href="module-models_CartModel.html#~CartModel/removePaymentInstruments">CartModel/removePaymentInstruments</a></li><li data-name="module:models/CartModel~CartModel/separateQuantities"><a href="module-models_CartModel.html#~CartModel/separateQuantities">CartModel/separateQuantities</a></li><li data-name="module:models/CartModel~CartModel/updateAddressBookAddress"><a href="module-models_CartModel.html#~CartModel/updateAddressBookAddress">CartModel/updateAddressBookAddress</a></li><li data-name="module:models/CartModel~CartModel/updateGiftCertificateShipments"><a href="module-models_CartModel.html#~CartModel/updateGiftCertificateShipments">CartModel/updateGiftCertificateShipments</a></li><li data-name="module:models/CartModel~CartModel/updateLineItem"><a href="module-models_CartModel.html#~CartModel/updateLineItem">CartModel/updateLineItem</a></li><li data-name="module:models/CartModel~CartModel/updateShipmentShippingMethod"><a href="module-models_CartModel.html#~CartModel/updateShipmentShippingMethod">CartModel/updateShipmentShippingMethod</a></li><li data-name="module:models/CartModel~CartModel/validateForCheckout"><a href="module-models_CartModel.html#~CartModel/validateForCheckout">CartModel/validateForCheckout</a></li><li data-name="module:models/CartModel~CartModel/validatePaymentInstruments"><a href="module-models_CartModel.html#~CartModel/validatePaymentInstruments">CartModel/validatePaymentInstruments</a></li></ul></li><li class="item" data-name="module:models/CategoryModel"><span class="expand">+</span><a href="module-models_CategoryModel.html">models/CategoryModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/CategoryModel~CategoryModel/get"><a href="module-models_CategoryModel.html#~CategoryModel/get">CategoryModel/get</a></li><li data-name="module:models/CategoryModel~CategoryModel/getMenuCategories"><a href="module-models_CategoryModel.html#~CategoryModel/getMenuCategories">CategoryModel/getMenuCategories</a></li><li data-name="module:models/CategoryModel~CategoryModel/getTopLevelCategories"><a href="module-models_CategoryModel.html#~CategoryModel/getTopLevelCategories">CategoryModel/getTopLevelCategories</a></li><li data-name="module:models/CategoryModel~CategoryModel/getTopLevelCategory"><a href="module-models_CategoryModel.html#~CategoryModel/getTopLevelCategory">CategoryModel/getTopLevelCategory</a></li><li data-name="module:models/CategoryModel~CategoryModel/getUrl"><a href="module-models_CategoryModel.html#~CategoryModel/getUrl">CategoryModel/getUrl</a></li></ul></li><li class="item" data-name="module:models/CompareModel"><span class="expand">+</span><a href="module-models_CompareModel.html">models/CompareModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/CompareModel.get"><a href="module-models_CompareModel.html#.get">get</a></li><li data-name="module:models/CompareModel~CompareList/add"><a href="module-models_CompareModel.html#~CompareList/add">CompareList/add</a></li><li data-name="module:models/CompareModel~CompareList/copyParentCategory"><a href="module-models_CompareModel.html#~CompareList/copyParentCategory">CompareList/copyParentCategory</a></li><li data-name="module:models/CompareModel~CompareList/findAttributeGroups"><a href="module-models_CompareModel.html#~CompareList/findAttributeGroups">CompareList/findAttributeGroups</a></li><li data-name="module:models/CompareModel~CompareList/findDeepestCommonCategory"><a href="module-models_CompareModel.html#~CompareList/findDeepestCommonCategory">CompareList/findDeepestCommonCategory</a></li><li data-name="module:models/CompareModel~CompareList/fromJSON"><a href="module-models_CompareModel.html#~CompareList/fromJSON">CompareList/fromJSON</a></li><li data-name="module:models/CompareModel~CompareList/getAttributeGroups"><a href="module-models_CompareModel.html#~CompareList/getAttributeGroups">CompareList/getAttributeGroups</a></li><li data-name="module:models/CompareModel~CompareList/getCategories"><a href="module-models_CompareModel.html#~CompareList/getCategories">CompareList/getCategories</a></li><li data-name="module:models/CompareModel~CompareList/getCategory"><a href="module-models_CompareModel.html#~CompareList/getCategory">CompareList/getCategory</a></li><li data-name="module:models/CompareModel~CompareList/getProducts"><a href="module-models_CompareModel.html#~CompareList/getProducts">CompareList/getProducts</a></li><li data-name="module:models/CompareModel~CompareList/productAssignedToCategory"><a href="module-models_CompareModel.html#~CompareList/productAssignedToCategory">CompareList/productAssignedToCategory</a></li><li data-name="module:models/CompareModel~CompareList/remove"><a href="module-models_CompareModel.html#~CompareList/remove">CompareList/remove</a></li><li data-name="module:models/CompareModel~CompareList/setCategory"><a href="module-models_CompareModel.html#~CompareList/setCategory">CompareList/setCategory</a></li><li data-name="module:models/CompareModel~CompareList/store"><a href="module-models_CompareModel.html#~CompareList/store">CompareList/store</a></li></ul></li><li class="item" data-name="module:models/ContentModel"><span class="expand">+</span><a href="module-models_ContentModel.html">models/ContentModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/ContentModel~ContentModel/get"><a href="module-models_ContentModel.html#~ContentModel/get">ContentModel/get</a></li><li data-name="module:models/ContentModel~ContentModel/getDefaultFolder"><a href="module-models_ContentModel.html#~ContentModel/getDefaultFolder">ContentModel/getDefaultFolder</a></li><li data-name="module:models/ContentModel~ContentModel/getFolderPath"><a href="module-models_ContentModel.html#~ContentModel/getFolderPath">ContentModel/getFolderPath</a></li><li data-name="module:models/ContentModel~ContentModel/getLink"><a href="module-models_ContentModel.html#~ContentModel/getLink">ContentModel/getLink</a></li><li data-name="module:models/ContentModel~ContentModel/getMarkup"><a href="module-models_ContentModel.html#~ContentModel/getMarkup">ContentModel/getMarkup</a></li><li data-name="module:models/ContentModel~ContentModel/isInFolder"><a href="module-models_ContentModel.html#~ContentModel/isInFolder">ContentModel/isInFolder</a></li></ul></li><li class="item" data-name="module:models/EmailModel"><span class="expand">+</span><a href="module-models_EmailModel.html">models/EmailModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/EmailModel~EmailModel/get"><a href="module-models_EmailModel.html#~EmailModel/get">EmailModel/get</a></li><li data-name="module:models/EmailModel~EmailModel/send"><a href="module-models_EmailModel.html#~EmailModel/send">EmailModel/send</a></li></ul></li><li class="item" data-name="module:models/FormModel"><span class="expand">+</span><a href="module-models_FormModel.html">models/FormModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/FormModel~FormModel/clear"><a href="module-models_FormModel.html#~FormModel/clear">FormModel/clear</a></li><li data-name="module:models/FormModel~FormModel/copyFrom"><a href="module-models_FormModel.html#~FormModel/copyFrom">FormModel/copyFrom</a></li><li data-name="module:models/FormModel~FormModel/copyTo"><a href="module-models_FormModel.html#~FormModel/copyTo">FormModel/copyTo</a></li><li data-name="module:models/FormModel~FormModel/get"><a href="module-models_FormModel.html#~FormModel/get">FormModel/get</a></li><li data-name="module:models/FormModel~FormModel/get"><a href="module-models_FormModel.html#~FormModel/get">FormModel/get</a></li><li data-name="module:models/FormModel~FormModel/getBinding"><a href="module-models_FormModel.html#~FormModel/getBinding">FormModel/getBinding</a></li><li data-name="module:models/FormModel~FormModel/getValue"><a href="module-models_FormModel.html#~FormModel/getValue">FormModel/getValue</a></li><li data-name="module:models/FormModel~FormModel/handleAction"><a href="module-models_FormModel.html#~FormModel/handleAction">FormModel/handleAction</a></li><li data-name="module:models/FormModel~FormModel/invalidate"><a href="module-models_FormModel.html#~FormModel/invalidate">FormModel/invalidate</a></li><li data-name="module:models/FormModel~FormModel/setValue"><a href="module-models_FormModel.html#~FormModel/setValue">FormModel/setValue</a></li><li data-name="module:models/FormModel~FormModel/value"><a href="module-models_FormModel.html#~FormModel/value">FormModel/value</a></li></ul></li><li class="item" data-name="module:models/GiftCertificateModel"><span class="expand">+</span><a href="module-models_GiftCertificateModel.html">models/GiftCertificateModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/GiftCertificateModel~createGiftCertificateFromLineItem"><a href="module-models_GiftCertificateModel.html#~createGiftCertificateFromLineItem">createGiftCertificateFromLineItem</a></li><li data-name="module:models/GiftCertificateModel~sendGiftCertificateEmail"><a href="module-models_GiftCertificateModel.html#~sendGiftCertificateEmail">sendGiftCertificateEmail</a></li></ul></li><li class="item" data-name="module:models/OrderModel"><span class="expand">+</span><a href="module-models_OrderModel.html">models/OrderModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/OrderModel~OrderModel/get"><a href="module-models_OrderModel.html#~OrderModel/get">OrderModel/get</a></li><li data-name="module:models/OrderModel~placeOrder"><a href="module-models_OrderModel.html#~placeOrder">placeOrder</a></li></ul></li><li class="item" data-name="module:models/PaymentProcessorModel"><span class="expand">+</span><a href="module-models_PaymentProcessorModel.html">models/PaymentProcessorModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/PaymentProcessorModel~PaymentProcessorModel/authorize"><a href="module-models_PaymentProcessorModel.html#~PaymentProcessorModel/authorize">PaymentProcessorModel/authorize</a></li><li data-name="module:models/PaymentProcessorModel~PaymentProcessorModel/handle"><a href="module-models_PaymentProcessorModel.html#~PaymentProcessorModel/handle">PaymentProcessorModel/handle</a></li></ul></li><li class="item" data-name="module:models/ProductListModel"><span class="expand">+</span><a href="module-models_ProductListModel.html">models/ProductListModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/ProductListModel~filterOutPrivateLists"><a href="module-models_ProductListModel.html#~filterOutPrivateLists">filterOutPrivateLists</a></li><li data-name="module:models/ProductListModel~ProductListModel/addProduct"><a href="module-models_ProductListModel.html#~ProductListModel/addProduct">ProductListModel/addProduct</a></li><li data-name="module:models/ProductListModel~ProductListModel/remove"><a href="module-models_ProductListModel.html#~ProductListModel/remove">ProductListModel/remove</a></li><li data-name="module:models/ProductListModel~ProductListModel/setPublic"><a href="module-models_ProductListModel.html#~ProductListModel/setPublic">ProductListModel/setPublic</a></li></ul></li><li class="item" data-name="module:models/ProductModel"><span class="expand">+</span><a href="module-models_ProductModel.html">models/ProductModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/ProductModel~isAttrSelectable"><a href="module-models_ProductModel.html#~isAttrSelectable">isAttrSelectable</a></li><li data-name="module:models/ProductModel~ProductModel/get"><a href="module-models_ProductModel.html#~ProductModel/get">ProductModel/get</a></li><li data-name="module:models/ProductModel~ProductModel/getAvailability"><a href="module-models_ProductModel.html#~ProductModel/getAvailability">ProductModel/getAvailability</a></li><li data-name="module:models/ProductModel~ProductModel/getOnlineProductSetProducts"><a href="module-models_ProductModel.html#~ProductModel/getOnlineProductSetProducts">ProductModel/getOnlineProductSetProducts</a></li><li data-name="module:models/ProductModel~ProductModel/isVisible"><a href="module-models_ProductModel.html#~ProductModel/isVisible">ProductModel/isVisible</a></li><li data-name="module:models/ProductModel~ProductModel/updateOptionSelection"><a href="module-models_ProductModel.html#~ProductModel/updateOptionSelection">ProductModel/updateOptionSelection</a></li><li data-name="module:models/ProductModel~ProductModel/updateVariationSelection"><a href="module-models_ProductModel.html#~ProductModel/updateVariationSelection">ProductModel/updateVariationSelection</a></li></ul></li><li class="item" data-name="module:models/ProductVariationModel"><span class="expand">+</span><a href="module-models_ProductVariationModel.html">models/ProductVariationModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/ProductVariationModel~ProductVariationModel/getVariationAttributeValue"><a href="module-models_ProductVariationModel.html#~ProductVariationModel/getVariationAttributeValue">ProductVariationModel/getVariationAttributeValue</a></li><li data-name="module:models/ProductVariationModel~ProductVariationModel/init"><a href="module-models_ProductVariationModel.html#~ProductVariationModel/init">ProductVariationModel/init</a></li></ul></li><li class="item" data-name="module:models/ProfileModel"><span class="expand">+</span><a href="module-models_ProfileModel.html">models/ProfileModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/ProfileModel~ProfileModel/addAddressToAddressBook"><a href="module-models_ProfileModel.html#~ProfileModel/addAddressToAddressBook">ProfileModel/addAddressToAddressBook</a></li><li data-name="module:models/ProfileModel~ProfileModel/determineUniqueAddressID"><a href="module-models_ProfileModel.html#~ProfileModel/determineUniqueAddressID">ProfileModel/determineUniqueAddressID</a></li><li data-name="module:models/ProfileModel~ProfileModel/get"><a href="module-models_ProfileModel.html#~ProfileModel/get">ProfileModel/get</a></li><li data-name="module:models/ProfileModel~ProfileModel/getDefaultBillingAddress"><a href="module-models_ProfileModel.html#~ProfileModel/getDefaultBillingAddress">ProfileModel/getDefaultBillingAddress</a></li><li data-name="module:models/ProfileModel~ProfileModel/getDefaultShippingAddress"><a href="module-models_ProfileModel.html#~ProfileModel/getDefaultShippingAddress">ProfileModel/getDefaultShippingAddress</a></li><li data-name="module:models/ProfileModel~ProfileModel/getPreferredAddress"><a href="module-models_ProfileModel.html#~ProfileModel/getPreferredAddress">ProfileModel/getPreferredAddress</a></li><li data-name="module:models/ProfileModel~ProfileModel/isDefaultBillingAddress"><a href="module-models_ProfileModel.html#~ProfileModel/isDefaultBillingAddress">ProfileModel/isDefaultBillingAddress</a></li><li data-name="module:models/ProfileModel~ProfileModel/isDefaultShippingAddress"><a href="module-models_ProfileModel.html#~ProfileModel/isDefaultShippingAddress">ProfileModel/isDefaultShippingAddress</a></li><li data-name="module:models/ProfileModel~ProfileModel/setDefaultBillingAddress"><a href="module-models_ProfileModel.html#~ProfileModel/setDefaultBillingAddress">ProfileModel/setDefaultBillingAddress</a></li><li data-name="module:models/ProfileModel~ProfileModel/setDefaultShippingAddress"><a href="module-models_ProfileModel.html#~ProfileModel/setDefaultShippingAddress">ProfileModel/setDefaultShippingAddress</a></li><li data-name="module:models/ProfileModel~ProfileModel/validateWalletPaymentInstruments"><a href="module-models_ProfileModel.html#~ProfileModel/validateWalletPaymentInstruments">ProfileModel/validateWalletPaymentInstruments</a></li><li data-name="module:models/ProfileModel~ProfileModel/validateWalletPaymentInstruments"><a href="module-models_ProfileModel.html#~ProfileModel/validateWalletPaymentInstruments">ProfileModel/validateWalletPaymentInstruments</a></li></ul></li><li class="item" data-name="module:models/QuantityLineItemModel"><span class="expand">&nbsp;</span><a href="module-models_QuantityLineItemModel.html">models/QuantityLineItemModel</a></li><li class="item" data-name="module:models/RecentlyViewedItemsModel"><span class="expand">&nbsp;</span><a href="module-models_RecentlyViewedItemsModel.html">models/RecentlyViewedItemsModel</a></li><li class="item" data-name="module:models/SearchModel"><span class="expand">&nbsp;</span><a href="module-models_SearchModel.html">models/SearchModel</a></li><li class="item" data-name="module:models/TransientAddressModel"><span class="expand">+</span><a href="module-models_TransientAddressModel.html">models/TransientAddressModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/TransientAddressModel~addressExists"><a href="module-models_TransientAddressModel.html#~addressExists">addressExists</a></li><li data-name="module:models/TransientAddressModel~copyFrom"><a href="module-models_TransientAddressModel.html#~copyFrom">copyFrom</a></li><li data-name="module:models/TransientAddressModel~copyTo"><a href="module-models_TransientAddressModel.html#~copyTo">copyTo</a></li><li data-name="module:models/TransientAddressModel~equals"><a href="module-models_TransientAddressModel.html#~equals">equals</a></li><li data-name="module:models/TransientAddressModel~storeAddressTo"><a href="module-models_TransientAddressModel.html#~storeAddressTo">storeAddressTo</a></li></ul></li><li class="item" data-name="module:object"><span class="expand">+</span><a href="module-object.html">object</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:object.extend"><a href="module-object.html#.extend">extend</a></li><li data-name="module:object.fromHashMap"><a href="module-object.html#.fromHashMap">fromHashMap</a></li><li data-name="module:object.keys"><a href="module-object.html#.keys">keys</a></li><li data-name="module:object.resolve"><a href="module-object.html#.resolve">resolve</a></li><li data-name="module:object.toHashMap"><a href="module-object.html#.toHashMap">toHashMap</a></li><li data-name="module:object.values"><a href="module-object.html#.values">values</a></li></ul></li><li class="item" data-name="module:request/OnRequest"><span class="expand">+</span><a href="module-request_OnRequest.html">request/OnRequest</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:request/OnRequest.onRequest"><a href="module-request_OnRequest.html#.onRequest">onRequest</a></li></ul></li><li class="item" data-name="module:request/OnSession"><span class="expand">+</span><a href="module-request_OnSession.html">request/OnSession</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:request/OnSession.onSession"><a href="module-request_OnSession.html#.onSession">onSession</a></li><li data-name="module:request/OnSession~getDeviceType"><a href="module-request_OnSession.html#~getDeviceType">getDeviceType</a></li></ul></li><li class="item" data-name="module:util/Browsing"><span class="expand">+</span><a href="module-util_Browsing.html">util/Browsing</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:util/Browsing.lastCatalogURL"><a href="module-util_Browsing.html#.lastCatalogURL">lastCatalogURL</a></li><li data-name="module:util/Browsing.lastUrl"><a href="module-util_Browsing.html#.lastUrl">lastUrl</a></li></ul></li><li class="item" data-name="module:util/Class"><span class="expand">&nbsp;</span><a href="module-util_Class.html">util/Class</a></li><li class="item" data-name="module:util/Response"><span class="expand">+</span><a href="module-util_Response.html">util/Response</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:util/Response.renderJSON"><a href="module-util_Response.html#.renderJSON">renderJSON</a></li></ul></li><li class="item" data-name="module:view"><span class="expand">+</span><a href="module-view.html">view</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:view.decorate"><a href="module-view.html#.decorate">decorate</a></li></ul></li><li class="item" data-name="module:views/CartView"><span class="expand">+</span><a href="module-views_CartView.html">views/CartView</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:views/CartView~prepareView"><a href="module-views_CartView.html#~prepareView">prepareView</a></li></ul></li><li class="item" data-name="module:views/CustomerServiceView"><span class="expand">+</span><a href="module-views_CustomerServiceView.html">views/CustomerServiceView</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:views/CustomerServiceView~getCustomerServiceLinks"><a href="module-views_CustomerServiceView.html#~getCustomerServiceLinks">getCustomerServiceLinks</a></li></ul></li><li class="item" data-name="module:views/LoginView"><span class="expand">&nbsp;</span><a href="module-views_LoginView.html">views/LoginView</a></li><li class="item" data-name="module:views/ProductView"><span class="expand">&nbsp;</span><a href="module-views_ProductView.html">views/ProductView</a></li><li class="item" data-name="module:views/StoreLocatorView"><span class="expand">&nbsp;</span><a href="module-views_StoreLocatorView.html">views/StoreLocatorView</a></li><li class="item" data-name="module:views/View"><span class="expand">+</span><a href="module-views_View.html">views/View</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:views/View~View/render"><a href="module-views_View.html#~View/render">View/render</a></li></ul></li></ul><h3>Classes</h3><ul><li class="item" data-name="CustomerServiceView~CustomerServiceView"><span class="expand">+</span><a href="CustomerServiceView-CustomerServiceView.html">CustomerServiceView</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="CustomerServiceView~CustomerServiceView#extend"><a href="CustomerServiceView-CustomerServiceView.html#extend">extend</a></li></ul></li><li class="item" data-name="module:meta~Meta"><span class="expand">+</span><a href="module-meta-Meta.html">Meta</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:meta~Meta#addResource"><a href="module-meta-Meta.html#addResource">addResource</a></li><li data-name="module:meta~Meta#getBreadcrumbs"><a href="module-meta-Meta.html#getBreadcrumbs">getBreadcrumbs</a></li><li data-name="module:meta~Meta#renderClientData"><a href="module-meta-Meta.html#renderClientData">renderClientData</a></li><li data-name="module:meta~Meta#update"><a href="module-meta-Meta.html#update">update</a></li><li data-name="module:meta~Meta#updatePageMetaData"><a href="module-meta-Meta.html#updatePageMetaData">updatePageMetaData</a></li></ul></li><li class="item" data-name="module:models/AbstractModel~AbstractModel"><span class="expand">+</span><a href="module-models_AbstractModel-AbstractModel.html">AbstractModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/AbstractModel~AbstractModel#extend"><a href="module-models_AbstractModel-AbstractModel.html#extend">extend</a></li></ul></li><li class="item" data-name="module:models/AddressModel~AddressModel"><span class="expand">&nbsp;</span><a href="module-models_AddressModel-AddressModel.html">AddressModel</a></li><li class="item" data-name="module:models/CartModel~CartModel"><span class="expand">&nbsp;</span><a href="module-models_CartModel-CartModel.html">CartModel</a></li><li class="item" data-name="module:models/CategoryModel~CategoryModel"><span class="expand">&nbsp;</span><a href="module-models_CategoryModel-CategoryModel.html">CategoryModel</a></li><li class="item" data-name="module:models/CompareModel~CompareList"><span class="expand">+</span><a href="module-models_CompareModel-CompareList.html">CompareList</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/CompareModel~CompareList~toJSON"><a href="module-models_CompareModel-CompareList.html#~toJSON">toJSON</a></li></ul></li><li class="item" data-name="module:models/ContentModel~ContentModel"><span class="expand">&nbsp;</span><a href="module-models_ContentModel-ContentModel.html">ContentModel</a></li><li class="item" data-name="module:models/CustomerModel~CustomerModel"><span class="expand">&nbsp;</span><a href="module-models_CustomerModel-CustomerModel.html">CustomerModel</a></li><li class="item" data-name="module:models/EmailModel~EmailModel"><span class="expand">+</span><a href="module-models_EmailModel-EmailModel.html">EmailModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/EmailModel~EmailModel.sendMail"><a href="module-models_EmailModel-EmailModel.html#.sendMail">sendMail</a></li></ul></li><li class="item" data-name="module:models/FormModel~FormModel"><span class="expand">&nbsp;</span><a href="module-models_FormModel-FormModel.html">FormModel</a></li><li class="item" data-name="module:models/OrderModel~OrderModel"><span class="expand">+</span><a href="module-models_OrderModel-OrderModel.html">OrderModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/OrderModel~OrderModel.submit"><a href="module-models_OrderModel-OrderModel.html#.submit">submit</a></li></ul></li><li class="item" data-name="module:models/PaymentProcessorModel~PaymentProcessorModel"><span class="expand">&nbsp;</span><a href="module-models_PaymentProcessorModel-PaymentProcessorModel.html">PaymentProcessorModel</a></li><li class="item" data-name="module:models/ProductListModel~ProductListModel"><span class="expand">+</span><a href="module-models_ProductListModel-ProductListModel.html">ProductListModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/ProductListModel~ProductListModel.replaceProductListItem"><a href="module-models_ProductListModel-ProductListModel.html#.replaceProductListItem">replaceProductListItem</a></li><li data-name="module:models/ProductListModel~ProductListModel.search"><a href="module-models_ProductListModel-ProductListModel.html#.search">search</a></li><li data-name="module:models/ProductListModel~ProductListModel#isProductInProductList"><a href="module-models_ProductListModel-ProductListModel.html#isProductInProductList">isProductInProductList</a></li><li data-name="module:models/ProductListModel~ProductListModel#remove"><a href="module-models_ProductListModel-ProductListModel.html#remove">remove</a></li><li data-name="module:models/ProductListModel~ProductListModel#updateItem"><a href="module-models_ProductListModel-ProductListModel.html#updateItem">updateItem</a></li></ul></li><li class="item" data-name="module:models/ProductModel~ProductModel"><span class="expand">&nbsp;</span><a href="module-models_ProductModel-ProductModel.html">ProductModel</a></li><li class="item" data-name="module:models/ProductVariationModel~ProductVariationModel"><span class="expand">&nbsp;</span><a href="module-models_ProductVariationModel-ProductVariationModel.html">ProductVariationModel</a></li><li class="item" data-name="module:models/ProfileModel~ProfileModel"><span class="expand">&nbsp;</span><a href="module-models_ProfileModel-ProfileModel.html">ProfileModel</a></li><li class="item" data-name="module:models/QuantityLineItemModel~QuantityLineItemModel"><span class="expand">&nbsp;</span><a href="module-models_QuantityLineItemModel-QuantityLineItemModel.html">QuantityLineItemModel</a></li><li class="item" data-name="module:models/RecentlyViewedItemsModel~RecentlyViewedItemsModel"><span class="expand">+</span><a href="module-models_RecentlyViewedItemsModel-RecentlyViewedItemsModel.html">RecentlyViewedItemsModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/RecentlyViewedItemsModel~RecentlyViewedItemsModel.getRecentlyViewedProducts"><a href="module-models_RecentlyViewedItemsModel-RecentlyViewedItemsModel.html#.getRecentlyViewedProducts">getRecentlyViewedProducts</a></li></ul></li><li class="item" data-name="module:models/SearchModel~SearchModel"><span class="expand">+</span><a href="module-models_SearchModel-SearchModel.html">SearchModel</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:models/SearchModel~SearchModel.initializeContentSearchModel"><a href="module-models_SearchModel-SearchModel.html#.initializeContentSearchModel">initializeContentSearchModel</a></li><li data-name="module:models/SearchModel~SearchModel.initializeProductSearchModel"><a href="module-models_SearchModel-SearchModel.html#.initializeProductSearchModel">initializeProductSearchModel</a></li><li data-name="module:models/SearchModel~SearchModel.initializeSearchModel"><a href="module-models_SearchModel-SearchModel.html#.initializeSearchModel">initializeSearchModel</a></li></ul></li><li class="item" data-name="module:models/TransientAddressModel~TransientAddressModel"><span class="expand">&nbsp;</span><a href="module-models_TransientAddressModel-TransientAddressModel.html">TransientAddressModel</a></li><li class="item" data-name="module:util/Class~Class"><span class="expand">+</span><a href="module-util_Class-Class.html">Class</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:util/Class~Class#extend"><a href="module-util_Class-Class.html#extend">extend</a></li></ul></li><li class="item" data-name="module:views/CartView~CartView"><span class="expand">+</span><a href="module-views_CartView-CartView.html">CartView</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:views/CartView~CartView#extend"><a href="module-views_CartView-CartView.html#extend">extend</a></li></ul></li><li class="item" data-name="module:views/LoginView~LoginView"><span class="expand">&nbsp;</span><a href="module-views_LoginView-LoginView.html">LoginView</a></li><li class="item" data-name="module:views/ProductView~ProductView"><span class="expand">&nbsp;</span><a href="module-views_ProductView-ProductView.html">ProductView</a></li><li class="item" data-name="module:views/StoreLocatorView~StoreLocatorView"><span class="expand">+</span><a href="module-views_StoreLocatorView-StoreLocatorView.html">StoreLocatorView</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:views/StoreLocatorView~StoreLocatorView#extend"><a href="module-views_StoreLocatorView-StoreLocatorView.html#extend">extend</a></li></ul></li><li class="item" data-name="module:views/View~View"><span class="expand">+</span><a href="module-views_View-View.html">View</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:views/View~View#extend"><a href="module-views_View-View.html#extend">extend</a></li></ul></li><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:views/View~View#extend"><a href="module-views_View-View.html#extend">extend</a></li></ul></li></ul><h3>Namespaces</h3><ul><li class="item" data-name="module:guard~Filters"><span class="expand">+</span><a href="module-guard-Filters.html">Filters</a><ul class="methods itemMembers"><span class="subtitle">Methods</span><li data-name="module:guard~Filters.get"><a href="module-guard-Filters.html#.get">get</a></li><li data-name="module:guard~Filters.http"><a href="module-guard-Filters.html#.http">http</a></li><li data-name="module:guard~Filters.https"><a href="module-guard-Filters.html#.https">https</a></li><li data-name="module:guard~Filters.include"><a href="module-guard-Filters.html#.include">include</a></li><li data-name="module:guard~Filters.loggedIn"><a href="module-guard-Filters.html#.loggedIn">loggedIn</a></li><li data-name="module:guard~Filters.post"><a href="module-guard-Filters.html#.post">post</a></li></ul></li></ul><h3>Tutorials</h3><ul><li class="item" data-name="Controllers"><span class="expand">&nbsp;</span><a href="tutorial-Controllers.html">The Controller concept</a></li><li class="item" data-name="Emails"><span class="expand">&nbsp;</span><a href="tutorial-Emails.html">Sending Emails</a></li><li class="item" data-name="Extensions"><span class="expand">&nbsp;</span><a href="tutorial-Extensions.html">Extension Points</a></li><li class="item" data-name="Models"><span class="expand">&nbsp;</span><a href="tutorial-Models.html">The Model concept</a></li><li class="item" data-name="Views"><span class="expand">&nbsp;</span><a href="tutorial-Views.html">The View concept</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Authorize">Authorize</a></li><li><a href="global.html#fs">fs</a></li><li><a href="global.html#Handle">Handle</a></li></ul>
</nav>

<br class="clear">

<footer>
    &copy; <span class="year"></span> Demandware, Inc.<br/>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
</footer>

<script src="scripts/jquery.min.js"></script>
<script src="scripts/main.js"></script>
<script>
    prettyPrint();
    document.querySelector('.year').innerHTML = new Date().getFullYear();
</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
